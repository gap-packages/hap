  
  [1X1 [33X[0;0YSimplicial complexes & CW complexes[133X[101X
  
  
  [1X1.1 [33X[0;0YThe Klein bottle as a simplicial complex[133X[101X
  
  [33X[0;0YThe  following example constructs the Klein bottle as a simplicial complex [22XK[122X
  on  [22X9[122X  vertices,  and  then constructs the cellular chain complex [22XC_âˆ—=C_âˆ—(K)[122X
  from  which  the integral homology groups [22XH_1(K, Z)= Z_2âŠ• Z[122X, [22XH_2(K, Z)=0[122X are
  computed. The chain complex [22XD_âˆ—=C_âˆ— âŠ—_ Z Z_2[122X is also constructed and used to
  compute  the  mod-[22X2[122X homology vector spaces [22XH_1(K, Z_2)= Z_2âŠ• Z_2[122X, [22XH_2(K, Z)=
  Z_2[122X.  Finally,  a presentation [22XÏ€_1(K) = âŸ¨ x,y : yxy^-1xâŸ©[122X is computed for the
  fundamental group of [22XK[122X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27X2simplices:=[127X[104X
    [4X[25X>[125X [27X[[1,2,5], [2,5,8], [2,3,8], [3,8,9], [1,3,9], [1,4,9],[127X[104X
    [4X[25X>[125X [27X [4,5,8], [4,6,8], [6,8,9], [6,7,9], [4,7,9], [4,5,7],[127X[104X
    [4X[25X>[125X [27X [1,4,6], [1,2,6], [2,6,7], [2,3,7], [3,5,7], [1,3,5]];;[127X[104X
    [4X[25Xgap>[125X [27XK:=SimplicialComplex(2simplices);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XC:=ChainComplex(K);[127X[104X
    [4X[28XChain complex of length 2 in characteristic 0 .[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XHomology(C,1);[127X[104X
    [4X[28X[ 2, 0 ][128X[104X
    [4X[25Xgap>[125X [27XHomology(C,2);[127X[104X
    [4X[28X[  ][128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XD:=TensorWithIntegersModP(C,2);[127X[104X
    [4X[28XChain complex of length 2 in characteristic 2 .[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XHomology(D,1);[127X[104X
    [4X[28X2[128X[104X
    [4X[25Xgap>[125X [27XHomology(D,2);[127X[104X
    [4X[28X1[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XG:=FundamentalGroup(K);[127X[104X
    [4X[28X<fp group of size infinity on the generators [ f1, f2 ]>[128X[104X
    [4X[25Xgap>[125X [27XRelatorsOfFpGroup(G);[127X[104X
    [4X[28X[ f2*f1*f2^-1*f1 ][128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.2 [33X[0;0YOther simplicial surfaces[133X[101X
  
  [33X[0;0YThe  following  example  constructs  the  real projective plane [22XP[122X, the Klein
  bottle  [22XK[122X and the torus [22XT[122X as simplicial complexes, using the surface genus [22Xg[122X
  as  input  in  the oriented case and [22X-g[122X as input in the unoriented cases. It
  then confirms that the connected sums [22XM=K#P[122X and [22XN=T#P[122X have the same integral
  homology.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XP:=ClosedSurface(-1);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XK:=ClosedSurface(-2);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XT:=ClosedSurface(1);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XM:=ConnectedSum(K,P);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XN:=ConnectedSum(T,P);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XHomology(M,0);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XHomology(N,0);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XHomology(M,1);[127X[104X
    [4X[28X[ 2, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XHomology(N,1);[127X[104X
    [4X[28X[ 2, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XHomology(M,2);[127X[104X
    [4X[28X[  ][128X[104X
    [4X[25Xgap>[125X [27XHomology(N,2);[127X[104X
    [4X[28X[  ][128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.3 [33X[0;0YThe Quillen complex[133X[101X
  
  [33X[0;0YGiven a group [22XG[122X one can consider the partially ordered set [22Xcal A_p(G)[122X of all
  non-trivial elementary abelian [22Xp[122X-subgroups of [22XG[122X, the partial order being set
  inclusion.  The  order  complex [22Xâˆ†cal A_p(G)[122X is a simplicial complex which is
  called the [13XQuillen complex [113X.[133X
  
  [33X[0;0YThe  following  example constructs the Quillen complex [22Xâˆ†cal A_2(S_7)[122X for the
  symmetric  group of degree [22X7[122X and [22Xp=2[122X. This simplicial complex involves [22X11291[122X
  simplices, of which [22X4410[122X are [22X2[122X-simplices..[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XK:=QuillenComplex(SymmetricGroup(7),2);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XSize(K);[127X[104X
    [4X[28X11291[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XK!.nrSimplices(2);[127X[104X
    [4X[28X4410[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.4 [33X[0;0YThe Quillen complex as a reduced CW-complex[133X[101X
  
  [33X[0;0YAny  simplicial complex [22XK[122X can be regarded as a regular CW complex. Different
  datatypes  are used in [12XHAP[112X for these two notions. The following continuation
  of  the  above  Quillen  complex  example  constructs a regular CW complex [22XY[122X
  isomorphic  to  (i.e.  with  the  same  face lattice as) [22XK=âˆ†cal A_2(S_7)[122X. An
  advantage  to  working  in  the  category  of CW complexes is that it may be
  possible  to  find  a  CW  complex [22XX[122X homotopy equivalent to [22XY[122X but with fewer
  cells  than  [22XY[122X.  The cellular chain complex [22XC_âˆ—(X)[122X of such a CW complex [22XX[122X is
  computed  by  the  following commands. From the number of free generators of
  [22XC_âˆ—(X)[122X,  which  correspond  to the cells of [22XX[122X, we see that there is a single
  [22X0[122X-cell  and  [22X160[122X  [22X2[122X-cells.  Thus the Quillen complex $$\Delta{\cal A}_2(S_7)
  \simeq \bigvee_{1\le i\le 160} S^2$$ has the homotopy type of a wedge of [22X160[122X
  [22X2[122X-spheres.  This  homotopy  equivalence is given in [Kso00, (15.1)] where it
  was obtained by purely theoretical methods.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XY:=RegularCWComplex(K);[127X[104X
    [4X[28XRegular CW-complex of dimension 2[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XC:=ChainComplex(Y);[127X[104X
    [4X[28XChain complex of length 2 in characteristic 0 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XC!.dimension(0);[127X[104X
    [4X[28X1[128X[104X
    [4X[25Xgap>[125X [27XC!.dimension(1);[127X[104X
    [4X[28X0[128X[104X
    [4X[25Xgap>[125X [27XC!.dimension(2);[127X[104X
    [4X[28X160[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.5 [33X[0;0YSimple homotopy equivalences[133X[101X
  
  [33X[0;0YFor  any regular CW complex [22XY[122X one can look for a sequence of simple homotopy
  collapses  [22XYâ†˜  Y_1  â†˜  Y_2  â†˜  ...  â†˜  Y_N=X[122X with [22XX[122X a smaller, and typically
  non-regular,  CW complex. Such a sequence of collapses can be recorded using
  what  is  now  known  as a [13Xdiscrete vector field[113X on [22XY[122X. The sequence can, for
  example,  be  used  to produce a chain homotopy equivalence [22Xf: C_âˆ— Y â†’ C_âˆ— X[122X
  and   its   chain   homotopy  inverse  [22Xg:  C_âˆ—  X  â†’  C_âˆ—  Y[122X.  The  function
  [10XChainComplex(Y)[110X  returns  the  cellular  chain  complex  [22XC_âˆ—(X)[122X,  wheras the
  function [10XChainComplexOfRegularCWComplex(Y)[110X returns the chain complex [22XC_âˆ—(Y)[122X.[133X
  
  [33X[0;0YFor the above Quillen complex [22XY=âˆ†cal A_2(S_7)[122X the following commands produce
  the  chain  homotopy  equivalence [22Xf: C_âˆ— Y â†’ C_âˆ— X[122X and [22Xg: C_âˆ— X â†’ C_âˆ— Y[122X. The
  number  of  generators  of  [22XC_âˆ—  Y[122X  equals  the number of cells of [22XY[122X in each
  degree, and this number is listed for each degree.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XK:=QuillenComplex(SymmetricGroup(7),2);;[127X[104X
    [4X[25Xgap>[125X [27XY:=RegularCWComplex(K);;[127X[104X
    [4X[25Xgap>[125X [27XCY:=ChainComplexOfRegularCWComplex(Y);[127X[104X
    [4X[28XChain complex of length 2 in characteristic 0 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XCX:=ChainComplex(Y);[127X[104X
    [4X[28XChain complex of length 2 in characteristic 0 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27Xequiv:=ChainComplexEquivalenceOfRegularCWComplex(Y);;[127X[104X
    [4X[25Xgap>[125X [27Xf:=equiv[1];[127X[104X
    [4X[28XChain Map between complexes of length 2 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27Xg:=equiv[2];[127X[104X
    [4X[28XChain Map between complexes of length 2 .[128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XCY!.dimension(0);[127X[104X
    [4X[28X1316[128X[104X
    [4X[25Xgap>[125X [27XCY!.dimension(1);[127X[104X
    [4X[28X5565[128X[104X
    [4X[25Xgap>[125X [27XCY!.dimension(2);[127X[104X
    [4X[28X4410[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.6 [33X[0;0YConstructing a CW-structure on a knot complement[133X[101X
  
  [33X[0;0YThe following commands construct the complement [22XM=S^3âˆ– K[122X of the trefoil knot
  [22XK[122X.  This  complement is returned as a [22X3[122X-manifold [22XM[122X with regular CW-structure
  involving four [22X3[122X-cells.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xarc:=ArcPresentation(PureCubicalKnot(3,1));[127X[104X
    [4X[28X[ [ 2, 5 ], [ 1, 3 ], [ 2, 4 ], [ 3, 5 ], [ 1, 4 ] ][128X[104X
    [4X[25Xgap>[125X [27XS:=SphericalKnotComplement(arc);[127X[104X
    [4X[28XRegular CW-complex of dimension 3[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XS!.nrCells(3);[127X[104X
    [4X[28X4[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [33X[0;0YThe following additional commands then show that [22XM[122X is homotopy equivalent to
  a  reduced CW-complex [22XY[122X of dimension [22X2[122X involving one [22X0[122X-cell, two [22X1[122X-cells and
  one [22X2[122X-cell. The fundamental group of [22XY[122X is computed and used to calculate the
  Alexander polynomial of the trefoil knot.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XY:=ContractedComplex(S);[127X[104X
    [4X[28XRegular CW-complex of dimension 2[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XCriticalCells(Y);[127X[104X
    [4X[28X[ [ 2, 1 ], [ 1, 9 ], [ 1, 11 ], [ 0, 22 ] ][128X[104X
    [4X[25Xgap>[125X [27XG:=FundamentalGroup(Y);;[127X[104X
    [4X[25Xgap>[125X [27XAlexanderPolynomial(G);[127X[104X
    [4X[28Xx_1^2-x_1+1[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.7 [33X[0;0YConstructing a regular CW-complex from its face lattice[133X[101X
  
  [33X[0;0YThe  following  example  begins  by  creating a [22X2[122X-dimensional annulus [22XA[122X as a
  regular  CW-complex,  and  testing that it has the correct integral homology
  [22XH_0(A, Z)= Z[122X, [22XH_1(A, Z)= Z[122X, [22XH_2(A, Z)=0[122X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XFL:=[];; #The face lattice[127X[104X
    [4X[25Xgap>[125X [27XFL[1]:=[[1,0],[1,0],[1,0],[1,0]];;[127X[104X
    [4X[25Xgap>[125X [27XFL[2]:=[[2,1,2],[2,3,4],[2,1,4],[2,2,3],[2,1,4],[2,2,3]];;[127X[104X
    [4X[25Xgap>[125X [27XFL[3]:=[[4,1,2,3,4],[4,1,2,5,6]];;[127X[104X
    [4X[25Xgap>[125X [27XFL[4]:=[];;[127X[104X
    [4X[25Xgap>[125X [27XA:=RegularCWComplex(FL);[127X[104X
    [4X[28XRegular CW-complex of dimension 2[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XHomology(A,0);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XHomology(A,1);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XHomology(A,2);[127X[104X
    [4X[28X[  ][128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [33X[0;0YNext  we  construct the direct product [22XY=AÃ— AÃ— AÃ— AÃ— A[122X of five copies of the
  annulus. This is a [22X10[122X-dimensional CW complex involving [22X248832[122X cells. It will
  be  homotopy equivalent [22XYâ‰ƒ X[122X to a CW complex [22XX[122X involving fewer cells. The CW
  complex  [22XX[122X  may  be  non-regular.  We compute the cochain complex [22XD_âˆ— = Hom_
  Z(C_âˆ—(X), Z)[122X from which the cohomology groups[133X
  [33X[0;0Y[22XH^0(Y, Z)= Z[122X,[133X
  [33X[0;0Y[22XH^1(Y, Z)= Z^5[122X,[133X
  [33X[0;0Y[22XH^2(Y, Z)= Z^10[122X,[133X
  [33X[0;0Y[22XH^3(Y, Z)= Z^10[122X,[133X
  [33X[0;0Y[22XH^4(Y, Z)= Z^5[122X,[133X
  [33X[0;0Y[22XH^5(Y, Z)= Z[122X,[133X
  [33X[0;0Y[22XH^6(Y, Z)=0[122X[133X
  [33X[0;0Yare obtained.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XY:=DirectProduct(A,A,A,A,A);[127X[104X
    [4X[28XRegular CW-complex of dimension 10[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XSize(Y);[127X[104X
    [4X[28X248832[128X[104X
    [4X[25Xgap>[125X [27XC:=ChainComplex(Y);[127X[104X
    [4X[28XChain complex of length 10 in characteristic 0 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XD:=HomToIntegers(C);[127X[104X
    [4X[28XCochain complex of length 10 in characteristic 0 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XCohomology(D,0);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(D,1);[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(D,2);[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(D,3);[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(D,4);[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(D,5);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(D,6);[127X[104X
    [4X[28X[  ][128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.8 [33X[0;0YCup products[133X[101X
  
  [33X[0;0Y[12XStrategy 1: Use geometric group theory in low dimensions.[112X[133X
  
  [33X[0;0YContinuing  with  the  previous  example,  we  consider  the first and fifth
  generators  [22Xg_1^1,  g_5^1âˆˆ  H^1(Y,  Z)  =  Z^5[122X  and establish that their cup
  product  [22Xg_1^1  âˆª  g_5^1  = - g_7^2 âˆˆ H^2(Y, Z) = Z^10[122X is equal to minus the
  seventh generator of [22XH^2(Y, Z)[122X. We also verify that [22Xg_5^1âˆª g_1^1 = - g_1^1 âˆª
  g_5^1[122X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xcup11:=CupProduct(FundamentalGroup(Y));[127X[104X
    [4X[28Xfunction( a, b ) ... end[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27Xcup11([1,0,0,0,0],[0,0,0,0,1]);[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0, 0, -1, 0, 0, 0 ][128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27Xcup11([0,0,0,0,1],[1,0,0,0,0]);[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ][128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [33X[0;0YThis   computation   of  low-dimensional  cup  products  is  achieved  using
  group-theoretic  methods  to  approximate  the  diagonal map [22Xâˆ† : Y â†’ YÃ— Y[122X in
  dimensions  [22Xle  2[122X.  In order to construct cup products in higher degrees [12XHAP[112X
  invokes two further strategies.[133X
  
  [33X[0;0Y[12XStrategy 2: implement the Alexander-Whitney map for a fixed class of spaces.[112X[133X
  
  [33X[0;0YFor  simplicial  complexes the cup product is implemented using the standard
  formula   for  the  Alexander-Whitney  chain  map,  together  with  homotopy
  equivalences to improve efficiency.[133X
  
  [33X[0;0YAs a first example, the following commands construct simplicial surfaces [22XK=(
  S^1  Ã— S^1) # ( S^1 Ã— S^1)[122X and [22XL=( S^1 Ã— S^1) âˆ¨ S^1 âˆ¨ S^1[122X and establish that
  they have the same cohomology groups. It is then shown that the cup products
  [22Xâˆª_K: H^1(K, Z)Ã— H^1(K, Z) â†’ H^2(K, Z)[122X and [22Xâˆª_L: H^1(L, Z)Ã— H^1(L, Z) â†’ H^2(L,
  Z)[122X  are  antisymmetric bilinear forms of different ranks; hence [22XK[122X and [22XL[122X have
  different homotopy types.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XK:=ClosedSurface(2);[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XL:=WedgeSum(WedgeSum(ClosedSurface(1),Sphere(1)),Sphere(1));[127X[104X
    [4X[28XSimplicial complex of dimension 2.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XCohomology(K,0);Cohomology(L,0);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(K,1);Cohomology(L,1);[127X[104X
    [4X[28X[ 0, 0, 0, 0 ][128X[104X
    [4X[28X[ 0, 0, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(K,2);Cohomology(L,2);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27Xgens:=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];;[127X[104X
    [4X[25Xgap>[125X [27XcupK:=CupProduct(K);;[127X[104X
    [4X[25Xgap>[125X [27XcupL:=CupProduct(L);;[127X[104X
    [4X[25Xgap>[125X [27XA:=NullMat(4,4);;B:=NullMat(4,4);;[127X[104X
    [4X[25Xgap>[125X [27Xfor i in [1..4] do[127X[104X
    [4X[25X>[125X [27Xfor j in [1..4] do[127X[104X
    [4X[25X>[125X [27XA[i][j]:=cupK(1,1,gens[i],gens[j])[1];[127X[104X
    [4X[25X>[125X [27XB[i][j]:=cupL(1,1,gens[i],gens[j])[1];[127X[104X
    [4X[25X>[125X [27Xod;od;[127X[104X
    [4X[25Xgap>[125X [27XDisplay(A);[127X[104X
    [4X[28X[ [   0,   0,   0,   1 ],[128X[104X
    [4X[28X  [   0,   0,   1,   0 ],[128X[104X
    [4X[28X  [   0,  -1,   0,   0 ],[128X[104X
    [4X[28X  [  -1,   0,   0,   0 ] ][128X[104X
    [4X[25Xgap>[125X [27XDisplay(B);[127X[104X
    [4X[28X[ [   0,   1,   0,   0 ],[128X[104X
    [4X[28X  [  -1,   0,   0,   0 ],[128X[104X
    [4X[28X  [   0,   0,   0,   0 ],[128X[104X
    [4X[28X  [   0,   0,   0,   0 ] ][128X[104X
    [4X[25Xgap>[125X [27XRank(A);[127X[104X
    [4X[28X4[128X[104X
    [4X[25Xgap>[125X [27XRank(B);[127X[104X
    [4X[28X2[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [33X[0;0YAs  a  second  example  of  the  computation of cups products, the following
  commands  construct  the  wedge  sum  [22XW=Mâˆ¨  N[122X  of a [22X2[122X-dimensional orientable
  simplicial  surface of genus 2 and the [22XK3[122X complex surface which is stored as
  a pure simplicial complex of dimension 4. The simplicial structure on the [22XK3[122X
  surface  is  taken  from [SK11]. The commands then show that [22XH^2(W, Z)= Z^22[122X
  and  [22XH^4(W,  Z)= Z[122X. The final commands comput the matrix [22X(xâˆª y)[122X as [22Xx,y[122X range
  over a generating set for [22XH^2(W, Z)[122X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XM:=ClosedSurface(2);;[127X[104X
    [4X[25Xgap>[125X [27XN:=SimplicialK3Surface();;[127X[104X
    [4X[25Xgap>[125X [27XW:=WedgeSum(M,N);[127X[104X
    [4X[28XSimplicial complex of dimension 4.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XCohomology(W,0);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(W,1);[127X[104X
    [4X[28X[ 0, 0, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(W,2);[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(W,3);[127X[104X
    [4X[28X[  ][128X[104X
    [4X[25Xgap>[125X [27XCohomology(W,4);[127X[104X
    [4X[28X[ 0 ][128X[104X
    [4X[25Xgap>[125X [27Xcup:=CupProduct(W);;[127X[104X
    [4X[25Xgap>[125X [27XSecondCohomologyGens:=IdentityMat(23);;[127X[104X
    [4X[25Xgap>[125X [27XA:=NullMat(23,23);;[127X[104X
    [4X[25Xgap>[125X [27Xfor i in [1..23] do[127X[104X
    [4X[25X>[125X [27Xfor j in [1..23] do[127X[104X
    [4X[25X>[125X [27XA[i][j]:=cup(2,2,SecondCohomologyGens[i],SecondCohomologyGens[j])[1];[127X[104X
    [4X[25X>[125X [27Xod;od;[127X[104X
    [4X[25Xgap>[125X [27XDisplay(A);[127X[104X
    [4X[28X[ [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0 ],[128X[104X
    [4X[28X  [   0,  -2,   2,  -1,   0,  -1,   1,  -1,   0,   0,   1,  -1,   0,   0,   1,   1,   2,  -1,  -1,   1,  -1,   0,  -1 ],[128X[104X
    [4X[28X  [   0,   2,  -4,   2,  -1,   1,  -1,   1,   0,  -1,  -1,   0,   1,  -1,   1,  -1,  -2,   1,   2,  -2,   1,   0,   3 ],[128X[104X
    [4X[28X  [   0,  -1,   2,  -2,   2,  -1,   0,  -1,   1,   1,   1,   0,   0,   0,  -2,   0,   0,   0,   0,   1,   0,   1,  -1 ],[128X[104X
    [4X[28X  [   0,   0,  -1,   2,  -4,   1,   1,   1,  -2,  -1,  -1,   0,  -1,  -1,   4,   0,   1,  -1,  -1,  -1,  -1,  -1,   1 ],[128X[104X
    [4X[28X  [   0,  -1,   1,  -1,   1,  -2,   0,  -1,   1,   0,   1,  -1,   1,   0,   0,   1,   1,   0,   0,   1,   0,   1,   0 ],[128X[104X
    [4X[28X  [   0,   1,  -1,   0,   1,   0,  -2,   1,   0,   0,  -1,   0,   1,   1,  -1,   0,  -1,   0,   0,   0,   1,   0,   0 ],[128X[104X
    [4X[28X  [   0,  -1,   1,  -1,   1,  -1,   1,  -2,   1,   0,   1,  -1,   1,   0,   0,   1,   1,   0,   0,   1,   0,   0,   0 ],[128X[104X
    [4X[28X  [   0,   0,   0,   1,  -2,   1,   0,   1,  -2,  -1,   0,   0,  -1,  -1,   2,   0,   0,  -1,   0,  -1,  -1,  -1,   0 ],[128X[104X
    [4X[28X  [   0,   0,  -1,   1,  -1,   0,   0,   0,  -1,  -2,   0,  -1,   0,   0,   2,   1,   0,   0,   0,   0,   0,  -1,   1 ],[128X[104X
    [4X[28X  [   0,   1,  -1,   1,  -1,   1,  -1,   1,   0,   0,  -2,   0,   1,   1,  -1,   0,  -1,   0,   0,   0,   1,  -1,   0 ],[128X[104X
    [4X[28X  [   0,  -1,   0,   0,   0,  -1,   0,  -1,   0,  -1,   0,  -2,   1,   0,   2,   1,   1,  -1,   0,   0,   0,   0,   1 ],[128X[104X
    [4X[28X  [   0,   0,   1,   0,  -1,   1,   1,   1,  -1,   0,   1,   1,  -2,   0,   0,   0,   0,   1,  -1,   1,  -1,  -1,  -2 ],[128X[104X
    [4X[28X  [   0,   0,  -1,   0,  -1,   0,   1,   0,  -1,   0,   1,   0,   0,  -2,   3,   0,   1,  -1,   0,  -1,  -1,   0,   1 ],[128X[104X
    [4X[28X  [   0,   1,   1,  -2,   4,   0,  -1,   0,   2,   2,  -1,   2,   0,   3,  -8,  -1,  -2,   1,   1,   1,   2,   0,  -2 ],[128X[104X
    [4X[28X  [   0,   1,  -1,   0,   0,   1,   0,   1,   0,   1,   0,   1,   0,   0,  -1,  -2,  -1,   1,   1,  -1,   0,   0,   0 ],[128X[104X
    [4X[28X  [   0,   2,  -2,   0,   1,   1,  -1,   1,   0,   0,  -1,   1,   0,   1,  -2,  -1,  -2,   0,   2,  -1,   1,   0,   0 ],[128X[104X
    [4X[28X  [   0,  -1,   1,   0,  -1,   0,   0,   0,  -1,   0,   0,  -1,   1,  -1,   1,   1,   0,  -2,  -1,   0,   0,  -1,   1 ],[128X[104X
    [4X[28X  [   0,  -1,   2,   0,  -1,   0,   0,   0,   0,   0,   0,   0,  -1,   0,   1,   1,   2,  -1,  -2,   1,  -1,   0,  -2 ],[128X[104X
    [4X[28X  [   0,   1,  -2,   1,  -1,   1,   0,   1,  -1,   0,   0,   0,   1,  -1,   1,  -1,  -1,   0,   1,  -2,   0,  -1,   2 ],[128X[104X
    [4X[28X  [   0,  -1,   1,   0,  -1,   0,   1,   0,  -1,   0,   1,   0,  -1,  -1,   2,   0,   1,   0,  -1,   0,  -2,   0,   0 ],[128X[104X
    [4X[28X  [   0,   0,   0,   1,  -1,   1,   0,   0,  -1,  -1,  -1,   0,  -1,   0,   0,   0,   0,  -1,   0,  -1,   0,  -2,   1 ],[128X[104X
    [4X[28X  [   0,  -1,   3,  -1,   1,   0,   0,   0,   0,   1,   0,   1,  -2,   1,  -2,   0,   0,   1,  -2,   2,   0,   1,  -4 ] ][128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [33X[0;0YA  cubical Alexander-Whitney formula can be used similarly for computing the
  cohomology  ring  of  a  regular  CW-complex  whose cells all have a cubical
  combinatorial face lattice.[133X
  
  [33X[0;0Y[12XStrategy 3: Guess and verify a cellular approximation to the diagonal map.[112X[133X
  
  [33X[0;0YMany  naturally occuring cell structures are neither simplicial nor cubical.
  For  a general regular CW-complex we require a cellular inclusion [22Xoverline Y
  â†ª  YÃ—  Y[122X  with  projection  [22Xp:  overline  Y â†  Y[122X that induces isomorphisms on
  integral   homology.  The  function  [10XDiagonalApproximation(Y)[110X  constructs  a
  candidate inclusion, but the projection [22Xp: overline Y â†  Y[122X needs to be tested
  for  homology  equivalence. If the candidate inclusion passes this test then
  the  function  [10XCupProduct(Y)[110X, involving the candidate space, can be used for
  cup products.[133X
  
  [33X[0;0YThe  following  example calculates [22Xg_1^1 âˆª g_3^2 ne 0[122X where [22XY=SÃ— SÃ— A[122X is the
  direct  product  of  two  simplicial circles [22XS[122X and one [22X2[122X-dimensional cubical
  Annulus [22XA[122X and where [22Xg_k^n[122X denotes the [22Xk[122X-th generator of [22XH^n(Y, Z)[122X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XA:=[[1,1,1],[1,0,1],[1,1,1]];;[127X[104X
    [4X[25Xgap>[125X [27XA:=PureCubicalComplex(A);;[127X[104X
    [4X[25Xgap>[125X [27XA:=RegularCWComplex(A); #A cubical annulus[127X[104X
    [4X[28XRegular CW-complex of dimension 2[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XS:=SimplicialComplex([[1,2],[2,3],[1,3]]);;[127X[104X
    [4X[25Xgap>[125X [27XS:=RegularCWComplex(S); #A circle[127X[104X
    [4X[28XRegular CW-complex of dimension 1[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XY:=DirectProduct(S,S,A);[127X[104X
    [4X[28XRegular CW-complex of dimension 4[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27Xcup:=CupProduct(Y);;[127X[104X
    [4X[25Xgap>[125X [27Xcup(1,2,[1,0,0],[0,0,1]);[127X[104X
    [4X[28X[ -1 ][128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XD:=DiagonalApproximation(Y);;[127X[104X
    [4X[25Xgap>[125X [27Xp:=D!.projection;[127X[104X
    [4X[28XMap of regular CW-complexes[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XP:=ChainMap(p);[127X[104X
    [4X[28XChain Map between complexes of length 3 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XIsIsomorphismOfAbelianFpGroups(Homology(P,0));[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsIsomorphismOfAbelianFpGroups(Homology(P,2));[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsIsomorphismOfAbelianFpGroups(Homology(P,3));[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  
  [1X1.9 [33X[0;0YIntersection forms of [22X4[122X[101X[1X-manifolds[133X[101X
  
  [33X[0;0YThe  cup product gives rise to the intersection form of a connected, closed,
  orientable [22X4[122X-manifold [22XY[122X is a symmetric bilinear form[133X
  
  [33X[0;0Y[22XqY: H^2(Y, Z)/Torsion Ã— H^2(Y, Z)/Torsion âŸ¶ Z[122X[133X
  
  [33X[0;0Ywhich we represent as a symmetric matrix.[133X
  
  [33X[0;0YThe  following  example  constructs  the  direct  product  [22XL=S^2Ã— S^2[122X of two
  [22X2[122X-spheres,  the  connected  sum  [22XM=  CP^2  #  overline  CP^2[122X  of the complex
  projective plane [22XCP^2[122X and its oppositely oriented version [22Xoverline CP^2[122X, and
  the connected sum [22XM= CP^2 # CP^2[122X. The manifolds [22XL[122X, [22XM[122X and [22XN[122X are each shown to
  have  a  CW-structure involving one [22X0[122X-cell, two [22X1[122X-cells and one [22X2[122X-cell. They
  are thus simply connected and have identical cohomology.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XS:=Sphere(2);;[127X[104X
    [4X[25Xgap>[125X [27XS:=RegularCWComplex(S);;[127X[104X
    [4X[25Xgap>[125X [27XL:=DirectProduct(S,S);[127X[104X
    [4X[28XRegular CW-complex of dimension 4[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XM:=ConnectedSum(ComplexProjectiveSpace(2),ComplexProjectiveSpace(2),-1);[127X[104X
    [4X[28XSimplicial complex of dimension 4.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XN:=ConnectedSum(ComplexProjectiveSpace(2),ComplexProjectiveSpace(2),+1);[127X[104X
    [4X[28XSimplicial complex of dimension 4.[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XCriticalCells(L);[127X[104X
    [4X[28X[ [ 4, 1 ], [ 2, 13 ], [ 2, 56 ], [ 0, 16 ] ][128X[104X
    [4X[25Xgap>[125X [27XCriticalCells(RegularCWComplex(M));[127X[104X
    [4X[28X[ [ 4, 1 ], [ 2, 109 ], [ 2, 119 ], [ 0, 8 ] ][128X[104X
    [4X[25Xgap>[125X [27XCriticalCells(RegularCWComplex(N));[127X[104X
    [4X[28X[ [ 4, 1 ], [ 2, 119 ], [ 2, 149 ], [ 0, 12 ] ][128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [33X[0;0YJohn  Milnor showed (as a corollary to a theorem of J. H. C. Whitehead) that
  the  homotopy  type  of  a  simply connected 4-manifold is determined by its
  quadratic  form.  More  precisely,  a form is said to be of [13Xtype I (properly
  primitive)[113X  if  some  diagonal entry of its matrix is odd. If every diagonal
  entry is even, then the form is of [13Xtype II (improperly primitive)[113X. The [13Xindex[113X
  of  a  form  is defined as the number of positive diagonal entries minus the
  number  of  negative  ones,  after the matrix has been diagonalized over the
  real numbers.[133X
  
  [33X[0;0Y[12XTheorem.[112X  (Milnor [Mil58]) The oriented homotopy type of a simply connected,
  closed,  orientable  4-manifold is determined by its second Betti number and
  the index and type of its intersetion form; except possibly in the case of a
  manifold with definite quadratic form of rank r > 9.[133X
  
  [33X[0;0YThe  following commands compute matrices representing the intersection forms
  [22XqL[122X, [22XqM[122X, [22XqN[122X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XqL:=IntersectionForm(L);;[127X[104X
    [4X[25Xgap>[125X [27XqM:=IntersectionForm(M);;[127X[104X
    [4X[25Xgap>[125X [27XqN:=IntersectionForm(N);;[127X[104X
    [4X[25Xgap>[125X [27XDisplay(qL);[127X[104X
    [4X[28X[ [  -2,   1 ],[128X[104X
    [4X[28X  [   1,   0 ] ][128X[104X
    [4X[25Xgap>[125X [27XDisplay(qM);[127X[104X
    [4X[28X[ [  5,  2 ],[128X[104X
    [4X[28X  [  2,  1 ] ][128X[104X
    [4X[25Xgap>[125X [27XDisplay(qN);[127X[104X
    [4X[28X[ [  -3,  -2 ],[128X[104X
    [4X[28X  [  -2,  -1 ] ][128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [33X[0;0YSince  [22XqL[122X  is  of  type  I, whereas [22XqM[122X and [22XqN[122X are of type II we see that the
  oriented homotopy type of [22XL[122X is distinct to that of [22XM[122X and that of [22XN[122X. Since [22XqM[122X
  has  index  [22X2[122X and [22XqN[122X has index [22X0[122X we see that that [22XM[122X and [22XN[122X also have distinct
  oriented homotopy types.[133X
  
  
  [1X1.10 [33X[0;0YCW maps and induced homomorphisms[133X[101X
  
  [33X[0;0YA  [13Xstrictly  cellular[113X  map [22Xf: Xâ†’ Y[122X of regular CW-complexes is a cellular map
  for  which  the  image  of any cell is a cell (of possibly lower dimension).
  Inclusions  of  CW-subcomplexes,  and projections from a direct product to a
  factor, are examples of such maps. Strictly cellular maps can be represented
  in  [12XHAP[112X,  and their induced homomorphisms on (co)homology and on fundamental
  groups can be computed.[133X
  
  [33X[0;0YThe  following  example  begins  by visualizing the trefoil knot [22XÎº âˆˆ R^3[122X. It
  then  constructs a regular CW structure on the complement [22XY= D^3âˆ– Nbhd(Îº)[122X of
  a  small  tubular open neighbourhood of the knot lying inside a large closed
  ball  [22XD^3[122X.  The  boundary  of  this tubular neighbourhood is a [22X2[122X-dimensional
  CW-complex  [22XB[122X  homeomorphic  to  a  torus  [22XS^1Ã—  S^1[122X  with fundamental group
  [22XÏ€_1(B)=<a,b  : aba^-1b^-1=1>[122X. The inclusion map [22Xf: Bâ†ª Y[122X is constructed. Then
  a   presentation   [22XÏ€_1(Y)=   <x,y  |  xy^-1x^-1yx^-1y^-1>[122X  and  the  induced
  homomorphism  $$\pi_1(B)\rightarrow  \pi_1(Y),  a\mapsto  y^{-1}xy^2xy^{-1},
  b\mapsto  y  $$  are  computed. This induced homomorphism is an example of a
  [13Xperipheral  system[113X  and  is  known  to  contain  sufficient  information  to
  characterize the knot up to ambient isotopy.[133X
  
  [33X[0;0YFinally,  it  is verified that the induced homology homomorphism [22XH_2(B, Z) â†’
  H_2(Y, Z)[122X is an isomomorphism.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XK:=PureCubicalKnot(3,1);;[127X[104X
    [4X[25Xgap>[125X [27XViewPureCubicalKnot(K);;[127X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XK:=PureCubicalKnot(3,1);;[127X[104X
    [4X[25Xgap>[125X [27Xf:=KnotComplementWithBoundary(ArcPresentation(K));[127X[104X
    [4X[28XMap of regular CW-complexes[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XG:=FundamentalGroup(Target(f));[127X[104X
    [4X[28X<fp group of size infinity on the generators [ f1, f2 ]>[128X[104X
    [4X[25Xgap>[125X [27XRelatorsOfFpGroup(G);[127X[104X
    [4X[28X[ f1*f2^-1*f1^-1*f2*f1^-1*f2^-1 ][128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XF:=FundamentalGroup(f);[127X[104X
    [4X[28X[ f1, f2 ] -> [ f2^-1*f1*f2^2*f1*f2^-1, f1 ][128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27Xphi:=ChainMap(f);[127X[104X
    [4X[28XChain Map between complexes of length 2 . [128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XH:=Homology(phi,2);[127X[104X
    [4X[28X[ g1 ] -> [ g1 ][128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
  [4X[32X[104X
  
