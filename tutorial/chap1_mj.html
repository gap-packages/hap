<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (HAP commands) - Chapter 1: Simplicial complexes &amp; CW complexes</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap1"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chap9_mj.html">9</a>  <a href="chap10_mj.html">10</a>  <a href="chap11_mj.html">11</a>  <a href="chap12_mj.html">12</a>  <a href="chap13_mj.html">13</a>  <a href="chap14_mj.html">14</a>  <a href="chap15_mj.html">15</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap0_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap1.html">[MathJax off]</a></p>
<p><a id="X7E5EA9587D4BCFB4" name="X7E5EA9587D4BCFB4"></a></p>
<div class="ChapSects"><a href="chap1_mj.html#X7E5EA9587D4BCFB4">1 <span class="Heading">Simplicial complexes &amp; CW complexes</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X85691C6980034524">1.1 <span class="Heading">The Klein bottle as a simplicial complex</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X7B8F88487B1B766C">1.2 <span class="Heading">Other simplicial surfaces</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X80A72C347D99A58E">1.3 <span class="Heading">The Quillen complex</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X7C4A2B8B79950232">1.4 <span class="Heading">The Quillen complex as a reduced CW-complex</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X782AAB84799E3C44">1.5 <span class="Heading">Simple homotopy equivalences</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X80474C7885AC1578">1.6 <span class="Heading">Cellular simplifications preserving homeomorphism type</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X7A15484C7E680AC9">1.7 <span class="Heading">Constructing a CW-structure on a knot complement</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X829793717FB6DDCE">1.8 <span class="Heading">Constructing a regular CW-complex by attaching cells</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X7B7354E68025FC92">1.9 <span class="Heading">Constructing a regular CW-complex from its face lattice</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X823FA6A9828FF473">1.10 <span class="Heading">Cup products</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X80B6849C835B7F19">1.11 <span class="Heading">Cohomology Rings</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X7F9B01CF7EE1D2FC">1.12 <span class="Heading">Intersection forms of <span class="SimpleMath">\(4\)</span>-manifolds</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X8771FF2885105154">1.13 <span class="Heading">CW maps and induced homomorphisms</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X853D6B247D0E18DB">1.14 <span class="Heading">Constructing a simplicial complex from a regular CW-complex</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X85A579217DCB6CC8">1.15 <span class="Heading">Equivariant CW complexes</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap1_mj.html#X86881717878ADCD6">1.16 <span class="Heading">Orbifolds and classifying spaces</span></a>
</span>
</div>
</div>

<h3>1 <span class="Heading">Simplicial complexes &amp; CW complexes</span></h3>

<p><a id="X85691C6980034524" name="X85691C6980034524"></a></p>

<h4>1.1 <span class="Heading">The Klein bottle as a simplicial complex</span></h4>

<p><img src="images/klein.jpg" align="center" width="250" alt="Klein bottle"/> <img src="images/kleingrid.jpg" align="center" width="250"/ alt="simplicial Klein bottle"></p>

<p>The following example constructs the Klein bottle as a simplicial complex <span class="SimpleMath">\(K\)</span> on <span class="SimpleMath">\(9\)</span> vertices, and then constructs the cellular chain complex <span class="SimpleMath">\(C_\ast=C_\ast(K)\)</span> from which the integral homology groups <span class="SimpleMath">\(H_1(K,\mathbb Z)=\mathbb Z_2\oplus \mathbb Z\)</span>, <span class="SimpleMath">\(H_2(K,\mathbb Z)=0\)</span> are computed. The chain complex <span class="SimpleMath">\(D_\ast=C_\ast \otimes_{\mathbb Z} \mathbb Z_2\)</span> is also constructed and used to compute the mod-<span class="SimpleMath">\(2\)</span> homology vector spaces <span class="SimpleMath">\(H_1(K,\mathbb Z_2)=\mathbb Z_2\oplus \mathbb Z_2\)</span>, <span class="SimpleMath">\(H_2(K,\mathbb Z)=\mathbb Z_2\)</span>. Finally, a presentation <span class="SimpleMath">\(\pi_1(K) = \langle x,y : yxy^{-1}x\rangle\)</span> is computed for the fundamental group of <span class="SimpleMath">\(K\)</span>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">2simplices:=</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[[1,2,5], [2,5,8], [2,3,8], [3,8,9], [1,3,9], [1,4,9],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> [4,5,8], [4,6,8], [6,8,9], [6,7,9], [4,7,9], [4,5,7],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> [1,4,6], [1,2,6], [2,6,7], [2,3,7], [3,5,7], [1,3,5]];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=SimplicialComplex(2simplices);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C:=ChainComplex(K);</span>
Chain complex of length 2 in characteristic 0 .

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,1);</span>
[ 2, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,2);</span>
[  ]

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">D:=TensorWithIntegersModP(C,2);</span>
Chain complex of length 2 in characteristic 2 .

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(D,1);</span>
2
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(D,2);</span>
1

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:=FundamentalGroup(K);</span>
&lt;fp group of size infinity on the generators [ f1, f2 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RelatorsOfFpGroup(G);</span>
[ f2*f1*f2^-1*f1 ]

</pre></div>

<p><a id="X7B8F88487B1B766C" name="X7B8F88487B1B766C"></a></p>

<h4>1.2 <span class="Heading">Other simplicial surfaces</span></h4>

<p>The following example constructs the real projective plane <span class="SimpleMath">\(P\)</span>, the Klein bottle <span class="SimpleMath">\(K\)</span> and the torus <span class="SimpleMath">\(T\)</span> as simplicial complexes, using the surface genus <span class="SimpleMath">\(g\)</span> as input in the oriented case and <span class="SimpleMath">\(-g\)</span> as input in the unoriented cases. It then confirms that the connected sums <span class="SimpleMath">\(M=K\#P\)</span> and <span class="SimpleMath">\(N=T\#P\)</span> have the same integral homology.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">P:=ClosedSurface(-1);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=ClosedSurface(-2);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">T:=ClosedSurface(1);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">M:=ConnectedSum(K,P);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">N:=ConnectedSum(T,P);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(M,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(N,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(M,1);</span>
[ 2, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(N,1);</span>
[ 2, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(M,2);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(N,2);</span>
[  ]

</pre></div>

<p><a id="X80A72C347D99A58E" name="X80A72C347D99A58E"></a></p>

<h4>1.3 <span class="Heading">The Quillen complex</span></h4>

<p>Given a group <span class="SimpleMath">\(G \)</span> one can consider the partially ordered set <span class="SimpleMath">\({\cal A}_p(G)\)</span> of all non-trivial elementary abelian <span class="SimpleMath">\(p\)</span>-subgroups of <span class="SimpleMath">\(G\)</span>, the partial order being set inclusion. The order complex <span class="SimpleMath">\(\Delta{\cal A}_p(G)\)</span> is a simplicial complex which is called the <em>Quillen complex </em>.</p>

<p>The following example constructs the Quillen complex <span class="SimpleMath">\(\Delta{\cal A}_2(S_7)\)</span> for the symmetric group of degree <span class="SimpleMath">\(7\)</span> and <span class="SimpleMath">\(p=2\)</span>. This simplicial complex involves <span class="SimpleMath">\(11291\)</span> simplices, of which <span class="SimpleMath">\(4410\)</span> are <span class="SimpleMath">\(2\)</span>-simplices..</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=QuillenComplex(SymmetricGroup(7),2);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(K);</span>
11291

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K!.nrSimplices(2);</span>
4410

</pre></div>

<p><a id="X7C4A2B8B79950232" name="X7C4A2B8B79950232"></a></p>

<h4>1.4 <span class="Heading">The Quillen complex as a reduced CW-complex</span></h4>

<p>Any simplicial complex <span class="SimpleMath">\(K\)</span> can be regarded as a regular CW complex. Different datatypes are used in <strong class="button">HAP</strong> for these two notions. The following continuation of the above Quillen complex example constructs a regular CW complex <span class="SimpleMath">\(Y\)</span> isomorphic to (i.e. with the same face lattice as) <span class="SimpleMath">\(K=\Delta{\cal A}_2(S_7)\)</span>. An advantage to working in the category of CW complexes is that it may be possible to find a CW complex <span class="SimpleMath">\(X\)</span> homotopy equivalent to <span class="SimpleMath">\(Y\)</span> but with fewer cells than <span class="SimpleMath">\(Y\)</span>. The cellular chain complex <span class="SimpleMath">\(C_\ast(X)\)</span> of such a CW complex <span class="SimpleMath">\(X\)</span> is computed by the following commands. From the number of free generators of <span class="SimpleMath">\(C_\ast(X)\)</span>, which correspond to the cells of <span class="SimpleMath">\(X\)</span>, we see that there is a single <span class="SimpleMath">\(0\)</span>-cell and <span class="SimpleMath">\(160\)</span> <span class="SimpleMath">\(2\)</span>-cells. Thus the Quillen complex $$\Delta{\cal A}_2(S_7) \simeq \bigvee_{1\le i\le 160} S^2$$ has the homotopy type of a wedge of <span class="SimpleMath">\(160\)</span> <span class="SimpleMath">\(2\)</span>-spheres. This homotopy equivalence is given in <a href="chapBib_mj.html#biBksontini">[Kso00, (15.1)]</a> where it was obtained by purely theoretical methods.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=RegularCWComplex(K);</span>
Regular CW-complex of dimension 2

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C:=ChainComplex(Y);</span>
Chain complex of length 2 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C!.dimension(0);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C!.dimension(1);</span>
0
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C!.dimension(2);</span>
160

</pre></div>

<p><a id="X782AAB84799E3C44" name="X782AAB84799E3C44"></a></p>

<h4>1.5 <span class="Heading">Simple homotopy equivalences</span></h4>

<p>For any regular CW complex <span class="SimpleMath">\(Y\)</span> one can look for a sequence of simple homotopy collapses <span class="SimpleMath">\(Y\searrow Y_1 \searrow Y_2 \searrow \ldots \searrow Y_N=X\)</span> with <span class="SimpleMath">\(X\)</span> a smaller, and typically non-regular, CW complex. Such a sequence of collapses can be recorded using what is now known as a <em>discrete vector field</em> on <span class="SimpleMath">\(Y\)</span>. The sequence can, for example, be used to produce a chain homotopy equivalence <span class="SimpleMath">\(f\colon C_\ast Y \rightarrow C_\ast X\)</span> and its chain homotopy inverse <span class="SimpleMath">\(g\colon C_\ast X \rightarrow C_\ast Y\)</span>. The function <code class="code">ChainComplex(Y)</code> returns the cellular chain complex <span class="SimpleMath">\(C_\ast(X)\)</span>, wheras the function <code class="code">ChainComplexOfRegularCWComplex(Y)</code> returns the chain complex <span class="SimpleMath">\(C_\ast(Y)\)</span>.</p>

<p>For the above Quillen complex <span class="SimpleMath">\(Y=\Delta{\cal A}_2(S_7)\)</span> the following commands produce the chain homotopy equivalence <span class="SimpleMath">\(f\colon C_\ast Y \rightarrow C_\ast X\)</span> and <span class="SimpleMath">\(g\colon C_\ast X \rightarrow C_\ast Y\)</span>. The number of generators of <span class="SimpleMath">\(C_\ast Y\)</span> equals the number of cells of <span class="SimpleMath">\(Y\)</span> in each degree, and this number is listed for each degree.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=QuillenComplex(SymmetricGroup(7),2);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=RegularCWComplex(K);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CY:=ChainComplexOfRegularCWComplex(Y);</span>
Chain complex of length 2 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CX:=ChainComplex(Y);</span>
Chain complex of length 2 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">equiv:=ChainComplexEquivalenceOfRegularCWComplex(Y);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=equiv[1];</span>
Chain Map between complexes of length 2 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=equiv[2];</span>
Chain Map between complexes of length 2 .


<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CY!.dimension(0);</span>
1316
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CY!.dimension(1);</span>
5565
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CY!.dimension(2);</span>
4410

</pre></div>

<p><a id="X80474C7885AC1578" name="X80474C7885AC1578"></a></p>

<h4>1.6 <span class="Heading">Cellular simplifications preserving homeomorphism type</span></h4>

<p>For some purposes one might need to simplify the cell structure on a regular CW-complex <span class="SimpleMath">\(Y\)</span> so as to obtained a homeomorphic CW-complex <span class="SimpleMath">\(W\)</span> with fewer cells.</p>

<p>The following commands load a <span class="SimpleMath">\(4\)</span>-dimensional simplicial complex <span class="SimpleMath">\(Y\)</span> representing the K3 complex surface. Its simplicial structure is taken from <a href="chapBib_mj.html#biBspreerkhuenel">[SK11]</a> and involves <span class="SimpleMath">\(1704\)</span> cells of various dimensions. The commands then convert the cell structure into that of a homeomorphic regular CW-complex <span class="SimpleMath">\(W\)</span> involving <span class="SimpleMath">\(774\)</span> cells.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=RegularCWComplex(SimplicialK3Surface());</span>
Regular CW-complex of dimension 4

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(Y);</span>
1704
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">W:=SimplifiedComplex(Y);</span>
Regular CW-complex of dimension 4

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(W);</span>
774

</pre></div>

<p><a id="X7A15484C7E680AC9" name="X7A15484C7E680AC9"></a></p>

<h4>1.7 <span class="Heading">Constructing a CW-structure on a knot complement</span></h4>

<p>The following commands construct the complement <span class="SimpleMath">\(M=S^3\setminus K\)</span> of the trefoil knot <span class="SimpleMath">\(K\)</span>. This complement is returned as a <span class="SimpleMath">\(3\)</span>-manifold <span class="SimpleMath">\(M\)</span> with regular CW-structure involving four <span class="SimpleMath">\(3\)</span>-cells.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">arc:=ArcPresentation(PureCubicalKnot(3,1));</span>
[ [ 2, 5 ], [ 1, 3 ], [ 2, 4 ], [ 3, 5 ], [ 1, 4 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=SphericalKnotComplement(arc);</span>
Regular CW-complex of dimension 3

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S!.nrCells(3);</span>
4

</pre></div>

<p>The following additional commands then show that <span class="SimpleMath">\(M\)</span> is homotopy equivalent to a reduced CW-complex <span class="SimpleMath">\(Y\)</span> of dimension <span class="SimpleMath">\(2\)</span> involving one <span class="SimpleMath">\(0\)</span>-cell, two <span class="SimpleMath">\(1\)</span>-cells and one <span class="SimpleMath">\(2\)</span>-cell. The fundamental group of <span class="SimpleMath">\(Y\)</span> is computed and used to calculate the Alexander polynomial of the trefoil knot.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=ContractedComplex(S);</span>
Regular CW-complex of dimension 2

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CriticalCells(Y);</span>
[ [ 2, 1 ], [ 1, 9 ], [ 1, 11 ], [ 0, 22 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:=FundamentalGroup(Y);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AlexanderPolynomial(G);</span>
x_1^2-x_1+1

</pre></div>

<p><a id="X829793717FB6DDCE" name="X829793717FB6DDCE"></a></p>

<h4>1.8 <span class="Heading">Constructing a regular CW-complex by attaching cells</span></h4>

<p><img src="images/cwspace2.jpg" align="center" width="250" alt="CW space"/></p>

<p>The following example creates the projective plane <span class="SimpleMath">\(Y\)</span> as a regular CW-complex, and tests that it has the correct integral homology <span class="SimpleMath">\(H_0(Y,\mathbb Z)=\mathbb Z\)</span>, <span class="SimpleMath">\(H_1(Y,\mathbb Z)=\mathbb Z_2\)</span>, <span class="SimpleMath">\(H_2(Y,\mathbb Z)=0\)</span>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">attch:=RegularCWComplex_AttachCellDestructive;; #Function for attaching cells</span>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=RegularCWDiscreteSpace(3); #Discrete CW-complex consisting of points {1,2,3}</span>
Regular CW-complex of dimension 0

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e1:=attch(Y,1,[1,2]);; #Attach 1-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e2:=attch(Y,1,[1,2]);; #Attach 1-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e3:=attch(Y,1,[1,3]);; #Attach 1-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e4:=attch(Y,1,[1,3]);; #Attach 1-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e5:=attch(Y,1,[2,3]);; #Attach 1-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e6:=attch(Y,1,[2,3]);; #Attach 1-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f1:=attch(Y,2,[e1,e3,e5]);; #Attach 2-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f2:=attch(Y,2,[e2,e4,e5]);; #Attach 2-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f3:=attch(Y,2,[e2,e3,e6]);; #Attach 2-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f4:=attch(Y,2,[e1,e4,e6]);; #Attach 2-cell</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(Y,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(Y,1);</span>
[ 2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(Y,2);</span>
[  ]`

</pre></div>

<p>The following example creates a 2-complex <span class="SimpleMath">\(K\)</span> corresponding to the group presentation</p>

<p><span class="SimpleMath">\(G=\langle x,y,z\ :\ xyx^{-1}y^{-1}=1, yzy^{-1}z^{-1}=1, zxz^{-1}x^{-1}=1\rangle\)</span>.</p>

<p>The complex is shown to have the correct fundamental group and homology (since it is the 2-skeleton of the 3-torus <span class="SimpleMath">\(S^1\times S^1\times S^1\)</span>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S1:=RegularCWSphere(1);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">W:=WedgeSum(S1,S1,S1);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F:=FundamentalGroupWithPathReps(W);; x:=F.1;;y:=F.2;;z:=F.3;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=RegularCWComplexWithAttachedRelatorCells(W,F,Comm(x,y),Comm(y,z),Comm(x,z));</span>
Regular CW-complex of dimension 2

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:=FundamentalGroup(K);</span>
&lt;fp group on the generators [ f1, f2, f3 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RelatorsOfFpGroup(G);</span>
[ f2^-1*f1*f2*f1^-1, f1^-1*f3*f1*f3^-1, f2^-1*f3*f2*f3^-1 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(K,1);</span>
[ 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(K,2);</span>
[ 0, 0, 0 ]

</pre></div>

<p><a id="X7B7354E68025FC92" name="X7B7354E68025FC92"></a></p>

<h4>1.9 <span class="Heading">Constructing a regular CW-complex from its face lattice</span></h4>

<p><img src="images/cwspace.jpg" align="center" width="250" alt="CW space"/></p>

<p>The following example creats a <span class="SimpleMath">\(2\)</span>-dimensional annulus <span class="SimpleMath">\(A\)</span> as a regular CW-complex, and testing that it has the correct integral homology <span class="SimpleMath">\(H_0(A,\mathbb Z)=\mathbb Z\)</span>, <span class="SimpleMath">\(H_1(A,\mathbb Z)=\mathbb Z\)</span>, <span class="SimpleMath">\(H_2(A,\mathbb Z)=0\)</span>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FL:=[];; #The face lattice</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FL[1]:=[[1,0],[1,0],[1,0],[1,0]];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FL[2]:=[[2,1,2],[2,3,4],[2,1,4],[2,2,3],[2,1,4],[2,2,3]];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FL[3]:=[[4,1,2,3,4],[4,1,2,5,6]];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FL[4]:=[];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">A:=RegularCWComplex(FL);</span>
Regular CW-complex of dimension 2

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(A,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(A,1);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(A,2);</span>
[  ]


</pre></div>

<p>Next we construct the direct product <span class="SimpleMath">\(Y=A\times A\times A\times A\times A\)</span> of five copies of the annulus. This is a <span class="SimpleMath">\(10\)</span>-dimensional CW complex involving <span class="SimpleMath">\(248832\)</span> cells. It will be homotopy equivalent <span class="SimpleMath">\(Y\simeq X\)</span> to a CW complex <span class="SimpleMath">\(X\)</span> involving fewer cells. The CW complex <span class="SimpleMath">\(X\)</span> may be non-regular. We compute the cochain complex <span class="SimpleMath">\(D_\ast = {\rm Hom}_{\mathbb Z}(C_\ast(X),\mathbb Z)\)</span> from which the cohomology groups <br /> <span class="SimpleMath">\(H^0(Y,\mathbb Z)=\mathbb Z\)</span>, <br /> <span class="SimpleMath">\(H^1(Y,\mathbb Z)=\mathbb Z^5\)</span>, <br /> <span class="SimpleMath">\(H^2(Y,\mathbb Z)=\mathbb Z^{10}\)</span>, <br /> <span class="SimpleMath">\(H^3(Y,\mathbb Z)=\mathbb Z^{10}\)</span>, <br /> <span class="SimpleMath">\(H^4(Y,\mathbb Z)=\mathbb Z^5\)</span>, <br /> <span class="SimpleMath">\(H^5(Y,\mathbb Z)=\mathbb Z\)</span>, <br /> <span class="SimpleMath">\(H^6(Y,\mathbb Z)=0\)</span><br /> are obtained.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=DirectProduct(A,A,A,A,A);</span>
Regular CW-complex of dimension 10

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(Y);</span>
248832
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C:=ChainComplex(Y);</span>
Chain complex of length 10 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">D:=HomToIntegers(C);</span>
Cochain complex of length 10 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(D,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(D,1);</span>
[ 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(D,2);</span>
[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(D,3);</span>
[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(D,4);</span>
[ 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(D,5);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(D,6);</span>
[  ]


</pre></div>

<p><a id="X823FA6A9828FF473" name="X823FA6A9828FF473"></a></p>

<h4>1.10 <span class="Heading">Cup products</span></h4>

<p><strong class="button">Strategy 1: Use geometric group theory in low dimensions.</strong></p>

<p>Continuing with the previous example, we consider the first and fifth generators <span class="SimpleMath">\(g_1^1, g_5^1\in H^1(Y,\mathbb Z) =\mathbb Z^5\)</span> and establish that their cup product <span class="SimpleMath">\( g_1^1 \cup g_5^1 = - g_7^2 \in H^2(Y,\mathbb Z) =\mathbb Z^{10}\)</span> is equal to minus the seventh generator of <span class="SimpleMath">\(H^2(Y,\mathbb Z)\)</span>. We also verify that <span class="SimpleMath">\(g_5^1\cup g_1^1 = - g_1^1 \cup g_5^1\)</span>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup11:=CupProduct(FundamentalGroup(Y));</span>
function( a, b ) ... end

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup11([1,0,0,0,0],[0,0,0,0,1]);</span>
[ 0, 0, 0, 0, 0, 0, -1, 0, 0, 0 ]

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup11([0,0,0,0,1],[1,0,0,0,0]);</span>
[ 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ]


</pre></div>

<p>This computation of low-dimensional cup products is achieved using group-theoretic methods to approximate the diagonal map <span class="SimpleMath">\(\Delta \colon Y \rightarrow Y\times Y\)</span> in dimensions <span class="SimpleMath">\(\le 2\)</span>. In order to construct cup products in higher degrees <strong class="button">HAP</strong> invokes two further strategies.</p>

<p><strong class="button">Strategy 2: implement the Alexander-Whitney map for a fixed class of spaces.</strong></p>

<p>For simplicial complexes the cup product is implemented using the standard formula for the Alexander-Whitney chain map, together with homotopy equivalences to improve efficiency.</p>

<p>As a first example, the following commands construct simplicial surfaces <span class="SimpleMath">\(K=(\mathbb S^1 \times \mathbb S^1) \# (\mathbb S^1 \times \mathbb S^1)\)</span> and <span class="SimpleMath">\(L=(\mathbb S^1 \times \mathbb S^1) \vee \mathbb S^1 \vee \mathbb S^1\)</span> and establish that they have the same cohomology groups. It is then shown that the cup products <span class="SimpleMath">\(\cup_K\colon H^1(K,\mathbb Z)\times H^1(K,\mathbb Z) \rightarrow H^2(K,\mathbb Z)\)</span> and <span class="SimpleMath">\(\cup_L\colon H^1(L,\mathbb Z)\times H^1(L,\mathbb Z) \rightarrow H^2(L,\mathbb Z)\)</span> are antisymmetric bilinear forms of different ranks; hence <span class="SimpleMath">\(K\)</span> and <span class="SimpleMath">\(L\)</span> have different homotopy types.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=ClosedSurface(2);</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">L:=WedgeSum(WedgeSum(ClosedSurface(1),Sphere(1)),Sphere(1));</span>
Simplicial complex of dimension 2.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(K,0);Cohomology(L,0);</span>
[ 0 ]
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(K,1);Cohomology(L,1);</span>
[ 0, 0, 0, 0 ]
[ 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(K,2);Cohomology(L,2);</span>
[ 0 ]
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gens:=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cupK:=CupProduct(K);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cupL:=CupProduct(L);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">A:=NullMat(4,4);;B:=NullMat(4,4);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in [1..4] do</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">for j in [1..4] do</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">A[i][j]:=cupK(1,1,gens[i],gens[j])[1];</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">B[i][j]:=cupL(1,1,gens[i],gens[j])[1];</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">od;od;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(A);</span>
[ [   0,   0,   0,   1 ],
  [   0,   0,   1,   0 ],
  [   0,  -1,   0,   0 ],
  [  -1,   0,   0,   0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(B);</span>
[ [   0,   1,   0,   0 ],
  [  -1,   0,   0,   0 ],
  [   0,   0,   0,   0 ],
  [   0,   0,   0,   0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Rank(A);</span>
4
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Rank(B);</span>
2

</pre></div>

<p>As a second example of the computation of cups products, the following commands construct the wedge sum <span class="SimpleMath">\(W=M\vee N\)</span> of a <span class="SimpleMath">\(2\)</span>-dimensional orientable simplicial surface of genus 2 and the <span class="SimpleMath">\(K3\)</span> complex surface which is stored as a pure simplicial complex of dimension 4. The simplicial structure on the <span class="SimpleMath">\(K3\)</span> surface is taken from <a href="chapBib_mj.html#biBspreerkhuenel">[SK11]</a>. The commands then show that <span class="SimpleMath">\(H^2(W,\mathbb Z)=\mathbb Z^{22}\)</span> and <span class="SimpleMath">\(H^4(W,\mathbb Z)=\mathbb Z\)</span>. The final commands comput the matrix <span class="SimpleMath">\((x\cup y)\)</span> as <span class="SimpleMath">\(x,y\)</span> range over a generating set for <span class="SimpleMath">\(H^2(W,\mathbb Z)\)</span>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">M:=ClosedSurface(2);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">N:=SimplicialK3Surface();;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">W:=WedgeSum(M,N);</span>
Simplicial complex of dimension 4.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(W,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(W,1);</span>
[ 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(W,2);</span>
[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(W,3);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(W,4);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup:=CupProduct(W);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SecondCohomologyGens:=IdentityMat(23);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">A:=NullMat(23,23);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in [1..23] do</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">for j in [1..23] do</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">A[i][j]:=cup(2,2,SecondCohomologyGens[i],SecondCohomologyGens[j])[1];</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">od;od;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(A);</span>
[ [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0 ],
  [   0,  -2,   2,  -1,   0,  -1,   1,  -1,   0,   0,   1,  -1,   0,   0,   1,   1,   2,  -1,  -1,   1,  -1,   0,  -1 ],
  [   0,   2,  -4,   2,  -1,   1,  -1,   1,   0,  -1,  -1,   0,   1,  -1,   1,  -1,  -2,   1,   2,  -2,   1,   0,   3 ],
  [   0,  -1,   2,  -2,   2,  -1,   0,  -1,   1,   1,   1,   0,   0,   0,  -2,   0,   0,   0,   0,   1,   0,   1,  -1 ],
  [   0,   0,  -1,   2,  -4,   1,   1,   1,  -2,  -1,  -1,   0,  -1,  -1,   4,   0,   1,  -1,  -1,  -1,  -1,  -1,   1 ],
  [   0,  -1,   1,  -1,   1,  -2,   0,  -1,   1,   0,   1,  -1,   1,   0,   0,   1,   1,   0,   0,   1,   0,   1,   0 ],
  [   0,   1,  -1,   0,   1,   0,  -2,   1,   0,   0,  -1,   0,   1,   1,  -1,   0,  -1,   0,   0,   0,   1,   0,   0 ],
  [   0,  -1,   1,  -1,   1,  -1,   1,  -2,   1,   0,   1,  -1,   1,   0,   0,   1,   1,   0,   0,   1,   0,   0,   0 ],
  [   0,   0,   0,   1,  -2,   1,   0,   1,  -2,  -1,   0,   0,  -1,  -1,   2,   0,   0,  -1,   0,  -1,  -1,  -1,   0 ],
  [   0,   0,  -1,   1,  -1,   0,   0,   0,  -1,  -2,   0,  -1,   0,   0,   2,   1,   0,   0,   0,   0,   0,  -1,   1 ],
  [   0,   1,  -1,   1,  -1,   1,  -1,   1,   0,   0,  -2,   0,   1,   1,  -1,   0,  -1,   0,   0,   0,   1,  -1,   0 ],
  [   0,  -1,   0,   0,   0,  -1,   0,  -1,   0,  -1,   0,  -2,   1,   0,   2,   1,   1,  -1,   0,   0,   0,   0,   1 ],
  [   0,   0,   1,   0,  -1,   1,   1,   1,  -1,   0,   1,   1,  -2,   0,   0,   0,   0,   1,  -1,   1,  -1,  -1,  -2 ],
  [   0,   0,  -1,   0,  -1,   0,   1,   0,  -1,   0,   1,   0,   0,  -2,   3,   0,   1,  -1,   0,  -1,  -1,   0,   1 ],
  [   0,   1,   1,  -2,   4,   0,  -1,   0,   2,   2,  -1,   2,   0,   3,  -8,  -1,  -2,   1,   1,   1,   2,   0,  -2 ],
  [   0,   1,  -1,   0,   0,   1,   0,   1,   0,   1,   0,   1,   0,   0,  -1,  -2,  -1,   1,   1,  -1,   0,   0,   0 ],
  [   0,   2,  -2,   0,   1,   1,  -1,   1,   0,   0,  -1,   1,   0,   1,  -2,  -1,  -2,   0,   2,  -1,   1,   0,   0 ],
  [   0,  -1,   1,   0,  -1,   0,   0,   0,  -1,   0,   0,  -1,   1,  -1,   1,   1,   0,  -2,  -1,   0,   0,  -1,   1 ],
  [   0,  -1,   2,   0,  -1,   0,   0,   0,   0,   0,   0,   0,  -1,   0,   1,   1,   2,  -1,  -2,   1,  -1,   0,  -2 ],
  [   0,   1,  -2,   1,  -1,   1,   0,   1,  -1,   0,   0,   0,   1,  -1,   1,  -1,  -1,   0,   1,  -2,   0,  -1,   2 ],
  [   0,  -1,   1,   0,  -1,   0,   1,   0,  -1,   0,   1,   0,  -1,  -1,   2,   0,   1,   0,  -1,   0,  -2,   0,   0 ],
  [   0,   0,   0,   1,  -1,   1,   0,   0,  -1,  -1,  -1,   0,  -1,   0,   0,   0,   0,  -1,   0,  -1,   0,  -2,   1 ],
  [   0,  -1,   3,  -1,   1,   0,   0,   0,   0,   1,   0,   1,  -2,   1,  -2,   0,   0,   1,  -2,   2,   0,   1,  -4 ] ]

</pre></div>

<p>A cubical Alexander-Whitney formula can be used similarly for computing the cohomology ring of a regular CW-complex whose cells all have a cubical combinatorial face lattice.</p>

<p><strong class="button">Strategy 3: Guess and verify a cellular approximation to the diagonal map.</strong></p>

<p>Many naturally occuring cell structures are neither simplicial nor cubical. For a general regular CW-complex we (currently) require a cellular inclusion <span class="SimpleMath">\(\overline Y \hookrightarrow Y\times Y\)</span> with <span class="SimpleMath">\(\{(y,y)\ :\ y\in Y\}\subset \overline Y\)</span> and with projection <span class="SimpleMath">\(p\colon \overline Y \twoheadrightarrow Y\)</span> that induces isomorphisms on integral homology. The function <code class="code">DiagonalApproximation(Y)</code> constructs a candidate inclusion, but the projection <span class="SimpleMath">\(p\colon \overline Y \twoheadrightarrow Y\)</span> needs to be tested for homology equivalence. If the candidate inclusion passes this test then the function <code class="code">CupProduct(Y)</code>, involving the candidate space, can be used for cup products. (I think the test is passed for all regular CW-complexes that are subcomplexes of some Euclidean space with all cells convex polytopes -- but a proof needs to be written down!)</p>

<p>The following example calculates <span class="SimpleMath">\(g_1^2 \cup g_2^2 \ne 0\)</span> where <span class="SimpleMath">\(Y=T\times T\)</span> is the direct product of two copies of a simplicial torus <span class="SimpleMath">\(T\)</span>, and where <span class="SimpleMath">\(g_k^n\)</span> denotes the <span class="SimpleMath">\(k\)</span>-th generator in some basis of <span class="SimpleMath">\(H^n(Y,\mathbb Z)\)</span>. The direct product <span class="SimpleMath">\(Y\)</span> is a CW-complex which is not a simplicial complex.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=RegularCWComplex(ClosedSurface(1));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=DirectProduct(K,K);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup:=CupProduct(Y);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup(2,2,[1,0,0,0,0,0],[0,1,0,0,0,0]);</span>
[ 5 ]

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">D:=DiagonalApproximation(Y);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">p:=D!.projection;</span>
Map of regular CW-complexes

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">P:=ChainMap(p);</span>
Chain Map between complexes of length 4 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsIsomorphismOfAbelianFpGroups(Homology(P,0));</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsIsomorphismOfAbelianFpGroups(Homology(P,2));</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsIsomorphismOfAbelianFpGroups(Homology(P,3));</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsIsomorphismOfAbelianFpGroups(Homology(P,4));</span>
true

</pre></div>

<p>Of course, an alternative approach to this particular example would be to first give the direct product <span class="SimpleMath">\(Y=T\times T\)</span> the structure of a simplicial complex and then use the Alexander-Whitney map of Strategy 2. A simplicial structure for <span class="SimpleMath">\(T\times T\)</span> can be obtained using the function <span class="SimpleMath">\(SCCartesianProduct(T,T)\)</span> from the <strong class="button">SimpComp</strong> package. The details are as follows. (The result is consistent with the preceding computation since the choice of a basis for cohomology groups is far from unique.)</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=ClosedSurface(1);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">facets:=MaximalSimplicesOfSimplicialComplex(K);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LoadPackage("simpcomp");;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">scK:=SCFromFacets(S);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">scY:=SCCartesianProduct(scK,scK);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=MaximalSimplicesToSimplicialComplex(SCFacetsEx(scY));</span>
Simplicial complex of dimension 4.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup:=CupProduct(Y);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cup(2,2,[1,0,0,0,0,0],[0,1,0,0,0,0]);</span>
[ 0 ]

</pre></div>

<p><a id="X80B6849C835B7F19" name="X80B6849C835B7F19"></a></p>

<h4>1.11 <span class="Heading">Cohomology Rings</span></h4>

<p>The cup product gives the cohomology <span class="SimpleMath">\(H^\ast(X,R)\)</span> of a space <span class="SimpleMath">\(X\)</span> with coefficients in a ring <span class="SimpleMath">\(R\)</span> the structure of a graded commutitive ring. This is currently implemented only for <span class="SimpleMath">\(Y\)</span> a simplicial complex and <span class="SimpleMath">\(R=\mathbb Z_p\)</span> the field of <span class="SimpleMath">\(p\)</span> elements.</p>

<p>The folowing commands compute the mod <span class="SimpleMath">\(2\)</span> cohomology ring <span class="SimpleMath">\(H^\ast(W,\mathbb Z_2)\)</span> of the above wedge sum <span class="SimpleMath">\(W=M\vee N\)</span> of a <span class="SimpleMath">\(2\)</span>-dimensional orientable simplicial surface of genus 2 and the <span class="SimpleMath">\(K3\)</span> complex simplicial surface (of real dimension 4).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">M:=ClosedSurface(2);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">N:=SimplicialK3Surface();;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">W:=WedgeSum(M,N);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">A:=CohomologyRing(W,2);</span>
&lt;algebra of dimension 29 over GF(2)&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">x:=Basis(A)[25];</span>
v.25
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">y:=Basis(A)[27];</span>
v.27
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">x*y;</span>
v.29

</pre></div>

<p><a id="X7F9B01CF7EE1D2FC" name="X7F9B01CF7EE1D2FC"></a></p>

<h4>1.12 <span class="Heading">Intersection forms of <span class="SimpleMath">\(4\)</span>-manifolds</span></h4>

<p>The cup product gives rise to the intersection form of a connected, closed, orientable <span class="SimpleMath">\(4\)</span>-manifold <span class="SimpleMath">\(Y\)</span> is a symmetric bilinear form</p>

<p><span class="SimpleMath">\(qY\colon H^2(Y,\mathbb Z)/Torsion \times H^2(Y,\mathbb Z)/Torsion \longrightarrow \mathbb Z\)</span></p>

<p>which we represent as a symmetric matrix.</p>

<p>The following example constructs the direct product <span class="SimpleMath">\(L=S^2\times S^2\)</span> of two <span class="SimpleMath">\(2\)</span>-spheres, the connected sum <span class="SimpleMath">\(M=\mathbb CP^2 \# \overline{\mathbb CP^2}\)</span> of the complex projective plane <span class="SimpleMath">\(\mathbb CP^2\)</span> and its oppositely oriented version <span class="SimpleMath">\(\overline{\mathbb CP^2}\)</span>, and the connected sum <span class="SimpleMath">\(M=\mathbb CP^2 \# \mathbb CP^2\)</span>. The manifolds <span class="SimpleMath">\(L\)</span>, <span class="SimpleMath">\(M\)</span> and <span class="SimpleMath">\(N\)</span> are each shown to have a CW-structure involving one <span class="SimpleMath">\(0\)</span>-cell, two <span class="SimpleMath">\(1\)</span>-cells and one <span class="SimpleMath">\(2\)</span>-cell. They are thus simply connected and have identical cohomology.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=Sphere(2);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=RegularCWComplex(S);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">L:=DirectProduct(S,S);</span>
Regular CW-complex of dimension 4

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">M:=ConnectedSum(ComplexProjectiveSpace(2),ComplexProjectiveSpace(2),-1);</span>
Simplicial complex of dimension 4.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">N:=ConnectedSum(ComplexProjectiveSpace(2),ComplexProjectiveSpace(2),+1);</span>
Simplicial complex of dimension 4.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CriticalCells(L);</span>
[ [ 4, 1 ], [ 2, 13 ], [ 2, 56 ], [ 0, 16 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CriticalCells(RegularCWComplex(M));</span>
[ [ 4, 1 ], [ 2, 109 ], [ 2, 119 ], [ 0, 8 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CriticalCells(RegularCWComplex(N));</span>
[ [ 4, 1 ], [ 2, 119 ], [ 2, 149 ], [ 0, 12 ] ]

</pre></div>

<p>John Milnor showed (as a corollary to a theorem of J. H. C. Whitehead) that the homotopy type of a simply connected 4-manifold is determined by its quadratic form. More precisely, a form is said to be of <em>type I (properly primitive)</em> if some diagonal entry of its matrix is odd. If every diagonal entry is even, then the form is of <em>type II (improperly primitive)</em>. The <em>index</em> of a form is defined as the number of positive diagonal entries minus the number of negative ones, after the matrix has been diagonalized over the real numbers.</p>

<p><strong class="button">Theorem.</strong> (Milnor <a href="chapBib_mj.html#biBmilnor">[Mil58]</a>) The oriented homotopy type of a simply connected, closed, orientable 4-manifold is determined by its second Betti number and the index and type of its intersetion form; except possibly in the case of a manifold with definite quadratic form of rank r &gt; 9.</p>

<p>The following commands compute matrices representing the intersection forms <span class="SimpleMath">\(qL\)</span>, <span class="SimpleMath">\(qM\)</span>, <span class="SimpleMath">\(qN\)</span>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">qL:=IntersectionForm(L);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">qM:=IntersectionForm(M);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">qN:=IntersectionForm(N);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(qL);</span>
[ [  -2,   1 ],
  [   1,   0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(qM);</span>
[ [  5,  2 ],
  [  2,  1 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(qN);</span>
[ [  -3,  -2 ],
  [  -2,  -1 ] ]

</pre></div>

<p>Since <span class="SimpleMath">\(qL\)</span> is of type I, whereas <span class="SimpleMath">\(qM\)</span> and <span class="SimpleMath">\(qN\)</span> are of type II we see that the oriented homotopy type of <span class="SimpleMath">\(L\)</span> is distinct to that of <span class="SimpleMath">\(M\)</span> and that of <span class="SimpleMath">\(N\)</span>. Since <span class="SimpleMath">\(qM\)</span> has index <span class="SimpleMath">\(2\)</span> and <span class="SimpleMath">\(qN\)</span> has index <span class="SimpleMath">\(0\)</span> we see that that <span class="SimpleMath">\(M\)</span> and <span class="SimpleMath">\(N\)</span> also have distinct oriented homotopy types.</p>

<p><a id="X8771FF2885105154" name="X8771FF2885105154"></a></p>

<h4>1.13 <span class="Heading">CW maps and induced homomorphisms</span></h4>

<p>A <em>strictly cellular</em> map <span class="SimpleMath">\(f\colon X\rightarrow Y\)</span> of regular CW-complexes is a cellular map for which the image of any cell is a cell (of possibly lower dimension). Inclusions of CW-subcomplexes, and projections from a direct product to a factor, are examples of such maps. Strictly cellular maps can be represented in <strong class="button">HAP</strong>, and their induced homomorphisms on (co)homology and on fundamental groups can be computed.</p>

<p>The following example begins by visualizing the trefoil knot <span class="SimpleMath">\(\kappa \in \mathbb R^3\)</span>. It then constructs a regular CW structure on the complement <span class="SimpleMath">\(Y= D^3\setminus {\rm Nbhd}(\kappa) \)</span> of a small tubular open neighbourhood of the knot lying inside a large closed ball <span class="SimpleMath">\(D^3\)</span>. The boundary of this tubular neighbourhood is a <span class="SimpleMath">\(2\)</span>-dimensional CW-complex <span class="SimpleMath">\(B\)</span> homeomorphic to a torus <span class="SimpleMath">\(\mathbb S^1\times \mathbb S^1\)</span> with fundamental group <span class="SimpleMath">\(\pi_1(B)=&lt;a,b\, :\, aba^{-1}b^{-1}=1&gt;\)</span>. The inclusion map <span class="SimpleMath">\(f\colon B\hookrightarrow Y\)</span> is constructed. Then a presentation <span class="SimpleMath">\(\pi_1(Y)= &lt;x,y\, |\, xy^{-1}x^{-1}yx^{-1}y^{-1}&gt;\)</span> and the induced homomorphism $$\pi_1(B)\rightarrow \pi_1(Y), a\mapsto y^{-1}xy^2xy^{-1}, b\mapsto y $$ are computed. This induced homomorphism is an example of a <em>peripheral system</em> and is known to contain sufficient information to characterize the knot up to ambient isotopy.</p>

<p>Finally, it is verified that the induced homology homomorphism <span class="SimpleMath">\(H_2(B,\mathbb Z) \rightarrow H_2(Y,\mathbb Z)\)</span> is an isomomorphism.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=PureCubicalKnot(3,1);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ViewPureCubicalKnot(K);;</span>

</pre></div>

<p><img src="images/trefoil.png" align="center" width="150" alt="trefoil knot"/></p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=PureCubicalKnot(3,1);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=KnotComplementWithBoundary(ArcPresentation(K));</span>
Map of regular CW-complexes

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:=FundamentalGroup(Target(f));</span>
&lt;fp group of size infinity on the generators [ f1, f2 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RelatorsOfFpGroup(G);</span>
[ f1*f2^-1*f1^-1*f2*f1^-1*f2^-1 ]

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F:=FundamentalGroup(f);</span>
[ f1, f2 ] -&gt; [ f2^-1*f1*f2^2*f1*f2^-1, f1 ]


<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">phi:=ChainMap(f);</span>
Chain Map between complexes of length 2 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H:=Homology(phi,2);</span>
[ g1 ] -&gt; [ g1 ]


</pre></div>

<p><a id="X853D6B247D0E18DB" name="X853D6B247D0E18DB"></a></p>

<h4>1.14 <span class="Heading">Constructing a simplicial complex from a regular CW-complex</span></h4>

<p>The following example constructs a <span class="SimpleMath">\(3\)</span>-dimensional pure regular CW-complex <span class="SimpleMath">\(K\)</span> whose <span class="SimpleMath">\(3\)</span>-cells are permutahedra. It then constructs the simplicial complex <span class="SimpleMath">\(B\)</span> by taking barycentric subdivision. It then constructes a smaller, homotopy equivalent, simplicial complex <span class="SimpleMath">\(N\)</span> by taking the nerve of the cover of <span class="SimpleMath">\(K\)</span> by the closures of its <span class="SimpleMath">\(3\)</span>-cells.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">K:=RegularCWComplex(PureComplexComplement(PurePermutahedralKnot(3,1)));</span>
Regular CW-complex of dimension 3

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(K);</span>
77923
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">B:=BarycentricSubdivision(K);</span>
Simplicial complex of dimension 3.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(B);</span>
1622517
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">N:=Nerve(K);</span>
Simplicial complex of dimension 3.

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(N);</span>
48745

</pre></div>

<p><a id="X85A579217DCB6CC8" name="X85A579217DCB6CC8"></a></p>

<h4>1.15 <span class="Heading">Equivariant CW complexes</span></h4>

<p>The above representations of spaces as simplicial complexes and regular CW complexes have their limitations. One limitation is that the number of cells needed to describe a space can be unnecessarily large. A minimal simplicial complex structure for the torus has <span class="SimpleMath">\(7\)</span> vertices, <span class="SimpleMath">\(21\)</span> edges and <span class="SimpleMath">\(14\)</span> triangles. A minimal regular CW-complex structure for the torus has <span class="SimpleMath">\(4\)</span> vertices, <span class="SimpleMath">\(8\)</span> edges and <span class="SimpleMath">\(4\)</span> cells of dimension <span class="SimpleMath">\(2\)</span>. By using simplicial sets (which are like simplicial complexes except that they allow the freedom to attach simplicial cells by gluing their boundary non-homeomorphically) one obtains a minimal triangulation of the torus involving <span class="SimpleMath">\(1\)</span> vertex, <span class="SimpleMath">\(3\)</span> edges and <span class="SimpleMath">\(2\)</span> cells of dimension <span class="SimpleMath">\(2\)</span>. By using non-regular CW-complexes one obtains a minimal cell structure involving <span class="SimpleMath">\(1\)</span> vertex, <span class="SimpleMath">\(2\)</span> edges and <span class="SimpleMath">\(1\)</span> cell of dimension <span class="SimpleMath">\(2\)</span>. Minimal cell structures (in the four different categories) for the torus are illustrated as follows.</p>

<p><img src="images/mstorus.png" align="center" width="300" alt="minimal simplicial torus"/> <img src="images/mrtorus.png" align="center" width="300" alt="minimal regular CW torus"/></p>

<p><img src="images/mdtorus.png" align="center" width="300" alt="minimal delta complex torus"/> <img src="images/mctorus.png" align="center" width="300" alt="minimal delta complex torus"/></p>

<p>A second limitation to our representations of simplicial and regular CW-complexes is that they apply only to structures with finitely many cells. They do no apply, for instance, to the simplicial complex structure on the real line <span class="SimpleMath">\(\mathbb R\)</span> in which each each integer <span class="SimpleMath">\(n\)</span> is a vertex and each interval <span class="SimpleMath">\([n,n+1]\)</span> is an edge.</p>

<p>Simplicial sets provide one approach to the efficient combinatorial representation of certain spaces. So too do cubical sets (the analogues of simplicial sets in which each cell has the combinatorics of an <span class="SimpleMath">\(n\)</span>-cube rather than an <span class="SimpleMath">\(n\)</span>-simplex). Neither of these two approaches has been implemented in <strong class="button">HAP</strong>.</p>

<p>Simplicial sets endowed with the action of a (possibly infinite) group <span class="SimpleMath">\(G\)</span> provide for an efficient representation of (possibly infinite) cell structures on a wider class of spaces. Such a structure can be made precise and is known as a <em>simplicial group</em>. Some functionality for simplicial groups is implemented in <strong class="button">HAP</strong> and described in Chapter <a href="chap12_mj.html#X7D818E5F80F4CF63"><span class="RefLink">12</span></a>.</p>

<p>A regular CW-complex endowed with the action of a (possibly infinite) group <span class="SimpleMath">\(G\)</span> is an alternative approach to the efficient combinatorial representation of (possibly infinite) cell structures on spaces. Much of <strong class="button">HAP</strong> is focused on this approach. As a first example of the idea, the following commands construct the infinite regular CW-complex <span class="SimpleMath">\(Y=\widetilde T\)</span> arising as the universal cover of the torus <span class="SimpleMath">\(T=\mathbb S^1\times \mathbb S^1\)</span> where <span class="SimpleMath">\(T\)</span> is given the above minimal non-regular CW structure involving <span class="SimpleMath">\(1\)</span> vertex, <span class="SimpleMath">\(2\)</span> edges, and <span class="SimpleMath">\(1\)</span> cell of dimension <span class="SimpleMath">\(2\)</span>. The homology <span class="SimpleMath">\(H_n(T,\mathbb Z)\)</span> is computed and the fundamental group of the torus <span class="SimpleMath">\(T\)</span> is recovered.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F:=FreeGroup(2);;x:=F.1;;y:=F.2;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:=F/[ x*y*x^-1*y^-1 ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=EquivariantTwoComplex(G);</span>
Equivariant CW-complex of dimension 2

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C:=ChainComplexOfQuotient(Y);</span>
Chain complex of length 2 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,1);</span>
[ 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,2);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FundamentalGroupOfQuotient(Y);</span>
&lt;fp group of size infinity on the generators [ f1, f2 ]&gt;

</pre></div>

<p>As a second example, the following comands load group number <span class="SimpleMath">\(9\)</span> in the library of <span class="SimpleMath">\(3\)</span>-dimensional crystallographic groups. They verify that <span class="SimpleMath">\(G\)</span> acts freely on <span class="SimpleMath">\(\mathbb R^3\)</span> (i.e. <span class="SimpleMath">\(G\)</span> is a <em>Bieberbach group</em>) and then construct a <span class="SimpleMath">\(G\)</span>-equivariant CW-complex <span class="SimpleMath">\(Y=\mathbb R^3\)</span> corresponding to the tessellation of <span class="SimpleMath">\(\mathbb R^3\)</span> by a fundamental domain for <span class="SimpleMath">\(G\)</span>. Finally, the cohomology <span class="SimpleMath">\(H_n(M,\mathbb Z)\)</span> of the <span class="SimpleMath">\(3\)</span>-dimensional closed manifold <span class="SimpleMath">\(M=\mathbb R^3/G\)</span> is computed. The manifold <span class="SimpleMath">\(M\)</span> is seen to be non-orientable (since it's top-dimensional homology is trivial) and has a non-regular CW structure with <span class="SimpleMath">\(1\)</span> vertex, <span class="SimpleMath">\(3\)</span> edges, <span class="SimpleMath">\(3\)</span> cells of dimension <span class="SimpleMath">\(2\)</span>, and <span class="SimpleMath">\(1\)</span> cell of dimension <span class="SimpleMath">\(3\)</span>. (This example uses Polymake software.)</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:=SpaceGroup(3,9);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsAlmostBieberbachGroup(Image(IsomorphismPcpGroup(G)));</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y:=EquivariantEuclideanSpace(G,[0,0,0]);</span>
Equivariant CW-complex of dimension 3

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y!.dimension(0);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y!.dimension(1);</span>
3
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y!.dimension(2);</span>
3
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Y!.dimension(3);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C:=ChainComplexOfQuotient(Y);</span>
Chain complex of length 3 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,1);</span>
[ 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,2);</span>
[ 2, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(C,3);</span>
[  ]

</pre></div>

<p><a id="X86881717878ADCD6" name="X86881717878ADCD6"></a></p>

<h4>1.16 <span class="Heading">Orbifolds and classifying spaces</span></h4>

<p>If a discrete group <span class="SimpleMath">\(G\)</span> acts on Euclidean space or hyperbolic space with finite stabilizer groups then we say that the quotient space obtained by killing the action of <span class="SimpleMath">\(G\)</span> an an <em>orbifold</em>. If the stabilizer groups are all trivial then the quotient is of course a manifold.</p>

<p>An orbifold is represented as a <span class="SimpleMath">\(G\)</span>-equivariant regular CW-complex together with the stabilizer group for a representative of each orbit of cells and its subgroup consisting of those group elements that preserve the cell orientation. <strong class="button">HAP</strong> stores orbifolds using the data type of <em>non-free resolution</em> and uses them mainly as a first step in constructing free <span class="SimpleMath">\(\mathbb ZG\)</span>-resolutions of <span class="SimpleMath">\(\mathbb Z\)</span>.</p>

<p>The following commands use an <span class="SimpleMath">\(8\)</span>-dimensional equivariant deformation retract of a <span class="SimpleMath">\(GL_3(\mathbb Z[{\bf i}])\)</span>-orbifold structure on hyperbolic space to compute <span class="SimpleMath">\(H_5(GL_3({\mathbb Z}[{\bf i}],\mathbb Z) = \mathbb Z_2^5\oplus \mathbb Z_4^2\)</span>. (The deformation retract is stored in a library and was supplied by Mathieu Dutour Sikiric.)</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Orbifold:=ContractibleGcomplex("PGL(3,Z[i])");</span>
Non-free resolution in characteristic 0 for matrix group . 
No contracting homotopy available. 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">R:=FreeGResolution(Orbifold,6);</span>
Resolution of length 5 in characteristic 0 for matrix group . 
No contracting homotopy available. 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Homology(TensorWithIntegers(R),5);</span>
[ 2, 2, 2, 2, 2, 4, 4 ]

</pre></div>

<p>The next example computes an orbifold structure on <span class="SimpleMath">\(\mathbb R^4\)</span>, and then the first <span class="SimpleMath">\(12\)</span> degrees of a free resolution/classifying space, for the second <span class="SimpleMath">\(4\)</span>-dimensional crystallographic group <span class="SimpleMath">\(G\)</span> in the library of crystallographic groups. The resolution is shown to be periodic of period <span class="SimpleMath">\(2\)</span> in degrees <span class="SimpleMath">\(\ge 5\)</span>. The cohomology is seen to have <span class="SimpleMath">\(11\)</span> ring generators in degree <span class="SimpleMath">\(2\)</span> and no further ring generators. The cohomology groups are: $$H^n(G,\mathbb Z) =\left( \begin{array}{ll} 0, &amp; {\rm odd~} n\ge 1\\ \mathbb Z_2^5 \oplus \mathbb Z^6, &amp; n=2\\ \mathbb Z_2^{15}\oplus \mathbb Z, &amp; n=4\\ \mathbb Z_2^{16}, &amp; {\rm even~} n \ge 6 .\\ \end{array}\right.$$</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:=SpaceGroup(4,2);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">R:=ResolutionCubicalCrystGroup(G,12);</span>
Resolution of length 12 in characteristic 0 for &lt;matrix group with 
5 generators&gt; . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">R!.dimension(5);</span>
16
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">R!.dimension(7);</span>
16
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">List([1..16],k-&gt;R!.boundary(5,k)=R!.boundary(7,k));</span>
[ true, true, true, true, true, true, true, true, true, true, true, true, 
  true, true, true, true ]

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">C:=HomToIntegers(R);</span>
Cochain complex of length 12 in characteristic 0 . 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,0);</span>
[ 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,1);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,2);</span>
[ 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,3);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,4);</span>
[ 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,5);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,6);</span>
[ 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Cohomology(C,7);</span>
[  ]

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,1);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,2);</span>
[ [ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], 
  [ 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 ], 
  [ 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 ], 
  [ 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ], 
  [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0 ], 
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,3);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,4);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,5);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,6);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,7);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,8);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,9);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IntegralRingGenerators(R,10);</span>
[  ]


</pre></div>

<p>A group <span class="SimpleMath">\(G\)</span> with a finite index torsion free nilpotent subgroup admits a resolution which is periodic in sufficiently high degrees if and only if all of its finite index subgroups admit periodic resolutions. The following commands identify the <span class="SimpleMath">\(99\)</span> <span class="SimpleMath">\(3\)</span>-dimensional space groups (respectively, the <span class="SimpleMath">\(1191\)</span> <span class="SimpleMath">\(4\)</span>-dimensional space groups) that admit a resolution which is periodic in degrees <span class="SimpleMath">\(&gt; 3\)</span> (respectively, in degrees <span class="SimpleMath">\(&gt; 4\)</span>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">L3:=Filtered([1..219],k-&gt;IsPeriodicSpaceGroup(SpaceGroup(3,k)));</span>
[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 17, 18, 19, 21, 24, 26, 27, 28, 
  29, 30, 31, 32, 33, 34, 36, 37, 39, 40, 41, 43, 45, 46, 52, 54, 55, 56, 58, 
  61, 62, 74, 75, 76, 77, 78, 79, 80, 81, 84, 85, 87, 89, 92, 98, 101, 102, 
  107, 111, 119, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 
  152, 153, 154, 155, 157, 159, 161, 162, 163, 164, 165, 166, 168, 171, 172, 
  174, 175, 176, 178, 180, 186, 189, 192, 196, 198, 209 ] 

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">L4:=Filtered([1..4783],k-&gt;IsPeriodicSpaceGroup(SpaceGroup(4,k)));</span>
[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 16, 17, 18, 19, 20, 22, 23, 25,
  26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 42, 43, 44, 46, 47, 48,
  49, 50, 51, 52, 53, 54, 55, 56, 58, 59, 60, 61, 62, 63, 65, 66, 68, 69, 70,
  71, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 89, 90, 91,
  93, 94, 95, 96, 97, 98, 99, 101, 102, 103, 104, 105, 107, 108, 109, 110,
  111, 113, 115, 116, 118, 119, 120, 121, 122, 124, 126, 127, 128, 130, 131,
  134, 141, 144, 145, 149, 151, 153, 154, 155, 156, 157, 158, 159, 160, 162,
  163, 165, 167, 168, 169, 170, 171, 172, 173, 174, 176, 178, 179, 180, 187,
  188, 197, 198, 202, 204, 205, 206, 211, 212, 219, 220, 222, 226, 233, 237,
  238, 239, 240, 241, 242, 243, 244, 245, 247, 248, 249, 250, 251, 253, 254,
  255, 256, 257, 259, 260, 261, 263, 264, 265, 266, 267, 269, 270, 271, 273,
  275, 277, 278, 279, 281, 283, 285, 290, 292, 296, 297, 298, 299, 300, 301,
  303, 304, 305, 314, 316, 317, 319, 327, 328, 329, 333, 335, 342, 355, 357,
  358, 359, 361, 362, 363, 365, 366, 367, 368, 369, 370, 372, 374, 376, 378,
  381, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397,
  398, 399, 400, 401, 402, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413,
  414, 415, 416, 417, 418, 419, 421, 422, 423, 424, 425, 426, 427, 428, 429,
  430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 442, 443, 444, 445,
  446, 447, 448, 450, 451, 458, 459, 462, 464, 465, 466, 467, 469, 470, 473,
  477, 478, 479, 482, 483, 484, 485, 486, 493, 495, 497, 501, 502, 503, 504,
  505, 507, 508, 512, 514, 515, 516, 517, 522, 524, 525, 526, 527, 533, 537,
  539, 540, 541, 542, 543, 544, 546, 548, 553, 555, 558, 562, 564, 565, 566,
  567, 568, 571, 572, 573, 574, 576, 577, 580, 581, 582, 589, 590, 591, 593,
  596, 598, 599, 612, 613, 622, 623, 624, 626, 632, 641, 647, 649, 651, 652,
  654, 656, 657, 658, 659, 661, 662, 663, 665, 666, 667, 668, 669, 670, 671,
  672, 674, 676, 677, 678, 679, 680, 682, 683, 684, 686, 688, 689, 690, 691,
  692, 694, 696, 697, 698, 699, 700, 702, 708, 710, 712, 714, 716, 720, 722,
  728, 734, 738, 739, 741, 742, 744, 745, 752, 754, 756, 757, 758, 762, 763,
  769, 770, 778, 779, 784, 788, 790, 800, 801, 843, 845, 854, 855, 856, 857,
  865, 874, 900, 904, 909, 911, 913, 915, 916, 917, 919, 920, 921, 922, 923,
  924, 925, 926, 927, 929, 931, 932, 933, 934, 936, 938, 940, 941, 943, 945,
  946, 953, 955, 956, 958, 963, 966, 972, 973, 978, 979, 981, 982, 983, 985,
  987, 988, 989, 991, 992, 993, 995, 996, 998, 999, 1000, 1003, 1011, 1022,
  1024, 1025, 1026, 1162, 1167, 1236, 1237, 1238, 1239, 1240, 1241, 1242,
  1243, 1244, 1246, 1248, 1250, 1255, 1264, 1267, 1270, 1273, 1279, 1280,
  1281, 1283, 1284, 1289, 1291, 1293, 1294, 1324, 1325, 1326, 1327, 1328,
  1329, 1330, 1331, 1332, 1333, 1334, 1335, 1336, 1337, 1338, 1339, 1340,
  1341, 1343, 1345, 1347, 1348, 1349, 1350, 1351, 1352, 1354, 1356, 1357,
  1358, 1359, 1361, 1363, 1365, 1367, 1372, 1373, 1374, 1375, 1376, 1377,
  1378, 1379, 1380, 1381, 1382, 1383, 1384, 1385, 1386, 1387, 1388, 1389,
  1390, 1393, 1395, 1397, 1399, 1400, 1401, 1404, 1405, 1408, 1410, 1419,
  1420, 1421, 1422, 1424, 1425, 1426, 1428, 1429, 1438, 1440, 1441, 1442,
  1443, 1444, 1445, 1449, 1450, 1451, 1456, 1457, 1460, 1461, 1462, 1464,
  1465, 1470, 1472, 1473, 1477, 1480, 1481, 1487, 1488, 1489, 1493, 1494,
  1495, 1501, 1503, 1506, 1509, 1512, 1515, 1518, 1521, 1524, 1527, 1530,
  1532, 1533, 1534, 1537, 1538, 1541, 1542, 1544, 1547, 1550, 1552, 1553,
  1554, 1558, 1565, 1566, 1568, 1573, 1644, 1648, 1673, 1674, 1700, 1702,
  1705, 1713, 1714, 1735, 1738, 1740, 1741, 1742, 1743, 1744, 1745, 1746,
  1747, 1748, 1749, 1750, 1751, 1752, 1753, 1754, 1755, 1756, 1757, 1759,
  1761, 1762, 1763, 1765, 1767, 1768, 1769, 1770, 1771, 1772, 1773, 1774,
  1775, 1778, 1779, 1782, 1783, 1785, 1787, 1788, 1789, 1791, 1793, 1795,
  1797, 1798, 1799, 1800, 1801, 1803, 1806, 1807, 1809, 1810, 1811, 1813,
  1815, 1821, 1822, 1823, 1828, 1829, 1833, 1837, 1839, 1842, 1845, 1848,
  1850, 1851, 1852, 1854, 1856, 1857, 1858, 1859, 1860, 1861, 1863, 1866,
  1870, 1873, 1874, 1877, 1880, 1883, 1885, 1886, 1887, 1889, 1892, 1895,
  1915, 1918, 1920, 1923, 1925, 1927, 1928, 1930, 1952, 1953, 1954, 1955,
  2045, 2047, 2049, 2051, 2053, 2054, 2055, 2056, 2057, 2059, 2067, 2068,
  2072, 2075, 2076, 2079, 2084, 2087, 2088, 2092, 2133, 2135, 2136, 2137,
  2139, 2140, 2170, 2171, 2196, 2224, 2234, 2236, 2238, 2254, 2355, 2356,
  2386, 2387, 2442, 2445, 2448, 2451, 2478, 2484, 2487, 2490, 2493, 2496,
  2499, 2502, 2508, 2511, 2514, 2517, 2520, 2523, 2550, 2553, 2559, 2621,
  2624, 2648, 2650, 3046, 3047, 3048, 3049, 3050, 3051, 3052, 3053, 3054,
  3055, 3056, 3057, 3058, 3059, 3060, 3061, 3062, 3063, 3064, 3065, 3066,
  3067, 3068, 3069, 3070, 3071, 3072, 3073, 3074, 3075, 3076, 3077, 3078,
  3079, 3080, 3081, 3082, 3083, 3084, 3085, 3086, 3087, 3089, 3090, 3091,
  3094, 3095, 3096, 3099, 3100, 3101, 3104, 3105, 3106, 3109, 3110, 3111,
  3112, 3113, 3114, 3115, 3117, 3119, 3120, 3121, 3122, 3123, 3124, 3125,
  3127, 3128, 3129, 3130, 3131, 3132, 3133, 3135, 3137, 3139, 3141, 3142,
  3143, 3144, 3145, 3149, 3151, 3152, 3153, 3154, 3155, 3157, 3159, 3160,
  3161, 3162, 3163, 3169, 3170, 3171, 3172, 3173, 3174, 3175, 3177, 3179,
  3180, 3181, 3182, 3183, 3184, 3185, 3187, 3188, 3189, 3190, 3191, 3192,
  3193, 3195, 3197, 3199, 3200, 3201, 3204, 3206, 3207, 3208, 3209, 3210,
  3212, 3214, 3215, 3216, 3217, 3218, 3226, 3234, 3235, 3236, 3244, 3252,
  3253, 3254, 3260, 3268, 3269, 3270, 3278, 3280, 3281, 3282, 3283, 3284,
  3285, 3286, 3287, 3288, 3289, 3290, 3291, 3292, 3295, 3296, 3298, 3299,
  3302, 3303, 3306, 3308, 3309, 3310, 3311, 3312, 3313, 3314, 3315, 3316,
  3317, 3318, 3319, 3320, 3322, 3324, 3326, 3327, 3329, 3330, 3338, 3345,
  3346, 3347, 3348, 3350, 3351, 3352, 3354, 3355, 3356, 3359, 3360, 3361,
  3362, 3374, 3375, 3383, 3385, 3398, 3399, 3417, 3418, 3419, 3420, 3422,
  3424, 3426, 3428, 3446, 3447, 3455, 3457, 3469, 3471, 3521, 3523, 3524,
  3525, 3530, 3531, 3534, 3539, 3542, 3545, 3548, 3550, 3551, 3554, 3557,
  3579, 3580, 3830, 3831, 3832, 3833, 3835, 3837, 3839, 3849, 3851, 3877,
  3938, 3939, 3949, 3951, 3952, 3958, 3960, 3962, 3963, 3964, 3966, 3968,
  3972, 3973, 3975, 4006, 4029, 4030, 4033, 4034, 4037, 4038, 4046, 4048,
  4050, 4062, 4064, 4067, 4078, 4081, 4089, 4090, 4114, 4138, 4139, 4140,
  4141, 4146, 4147, 4148, 4149, 4154, 4155, 4169, 4171, 4175, 4180, 4183,
  4188, 4190, 4204, 4205, 4223, 4224, 4225, 4254, 4286, 4289, 4391, 4397,
  4496, 4499, 4500, 4501, 4502, 4504, 4508, 4510, 4521, 4525, 4544, 4559,
  4560, 4561, 4562, 4579, 4580, 4581, 4583, 4587, 4597, 4598, 4599, 4600,
  4651, 4759, 4760, 4761, 4762, 4766 ]


</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap0_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chap9_mj.html">9</a>  <a href="chap10_mj.html">10</a>  <a href="chap11_mj.html">11</a>  <a href="chap12_mj.html">12</a>  <a href="chap13_mj.html">13</a>  <a href="chap14_mj.html">14</a>  <a href="chap15_mj.html">15</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
