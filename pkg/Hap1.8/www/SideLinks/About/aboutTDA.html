<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>AboutHap</title>
</head>
<body
 style="color: rgb(0, 0, 153); background-color: rgb(204, 255, 255);"
 alink="#000066" link="#000066" vlink="#000066">
<br>
<table
 style="text-align: left; margin-left: auto; margin-right: auto; color: rgb(0, 0, 102);"
 border="0" cellpadding="20" cellspacing="10">
  <tbody>
    <tr align="center">
      <th style="vertical-align: top;">
      <table style="width: 100%; text-align: left;" cellpadding="2"
 cellspacing="2">
        <tbody>
          <tr>
            <td style="vertical-align: top;"><a href="aboutLie.html"><small
 style="color: rgb(0, 0, 102);">Previous</small></a><br>
            </td>
            <td
 style="text-align: center; vertical-align: top; color: rgb(0, 0, 102);"><big><span
 style="font-weight: bold;">About HAP: Topological Data Analysis<br>
            </span></big></td>
            <td style="text-align: right; vertical-align: top;"><a
 href="aboutParallel.html"><small style="color: rgb(0, 0, 102);">next</small></a><br>
            </td>
          </tr>
        </tbody>
      </table>
      <big><span style="font-weight: bold;"></span></big><br>
      </th>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255); text-align: left;">An
image such as the CHA logo<br>
      <br>
      <div style="text-align: center;"><img alt="" src="cha.png"
 style="width: 93px; height: 101px;"><br>
      <div style="text-align: left;"><br>
can be viewed as a 2-dimensional (blue) space with white holes. The
following commands show that this space has two connected components
(i.e. betti number b<sub>0</sub>=2) and three 1-dimensional holes (i.e.
betti number b<sub>1</sub>=3). <br>
      </div>
      </div>
      </td>
    </tr>
    <tr>
      <td
 style="background-color: rgb(255, 255, 204); vertical-align: top;">gap&gt;
T:=ReadImageAsTopologicalSpace("cha.png",500);;<br>
Topological space of dimension 2.<br>
      <br>
gap&gt; ContractTopologicalSpace(T);<br>
gap&gt; C:=SingularChainComplex(T);<br>
Chain complex of length 2 in characteristic 0 .<br>
      <br>
gap&gt; Homology(C,0);<br>
[ 0, 0 ]<br>
gap&gt; Homology(C,1);<br>
[ 0, 0, 0 ]<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">General
homology algorithms are not the most efficient way to compute betti
numbers of image spaces as they take no advantage of the special
features of such spaces. The&nbsp; function&nbsp;
BettiNumbersOfMatrix(A) is a more efficient function.&nbsp; <br>
      <br>
For example, this function can be used to show that the following image
(borrowed from the <a href="http://chomp.rutgers.edu/">CHOMP</a> web
pages!)<br>
      <br>
      <div style="text-align: center;"><img alt="" src="bw_image.bmp"
 style="width: 247px; height: 287px;"><br>
      <br>
      <div style="text-align: left;">has betti numbers b<sub>0</sub>=3
and b<sub>1</sub>=20.<br>
      </div>
      </div>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace("bw_image.bmp",500);;<br>
gap&gt; BettiNumbers(T,0);<br>
3<br>
gap&gt; BettiNumbers(T,1);<br>
20<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">The
idea behind Topological Data Analysis is that one should be able to
gain a qualitative understanding of difficult data from its homological
properties. <br>
      <br>
For example, the following commands investigate a <a
 href="digital_photo.jpg">digital photograph</a>&nbsp; by calculating
the betti numbers of successive thickenings of the image.&nbsp; The
thickenings are intended to reduce the "noise" in the image and
to&nbsp; realize the image's "true" betti numbers. Without actually
viewing the photograph we can detect that there are probably three
connected components and three 1-dimensional holes in it.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace("digital_photo.jpg",400);;<br>
gap&gt; for i in [1..15] do<br>
&gt; Print(BettiNumbers(T),"\n");<br>
&gt; T:=ThickenedTopologicalSpace(T);;<br>
&gt; od;<br>
[ 206, 5070 ]<br>
[ 11, 10 ]<br>
[ 4, 4 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 4 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
[ 3, 3 ]<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">There
are quite a number of different "ambient isotopy types" of black/white
images with betti numbers b<sub>0</sub>=3, b<sub>1</sub>=3. A few of
these are: <br>
      <br>
Space 1: &nbsp;<img alt="" src="space1.jpg"
 style="width: 200px; height: 152px;"> &nbsp;&nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Space 2:&nbsp;&nbsp;&nbsp; <img alt="" src="space2.jpg"
 style="width: 200px; height: 151px;">&nbsp;&nbsp; <br>
      <br>
Space 3:&nbsp; <img alt="" src="space3.jpg"
 style="width: 200px; height: 149px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Space 4:&nbsp; <img alt="" src="space4.jpg"
 style="width: 200px; height: 152px;"><br>
      <br>
Space 5:&nbsp;<img alt="" src="space5.jpg"
 style="width: 200px; height: 75px;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
      <br>
      <br>
      <br>
By considering the betti numbers of the "inverted spaces" obtained by
inverting black and white, we can eliminate a few of these as possible
ambient isotopy types for the digital photograph. <br>
      <br>
For example, the following commands show that the photograph is not
ambient isotopic to spaces 2, 3 or 5.&nbsp; <br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace("digital_photo.jpg",400);;<br>
gap&gt; for i in [1..8] do<br>
&gt; T:=ThickenedMatrix(T);<br>
&gt; od;<br>
gap&gt; T1:=ReadImageAsTopologicalSpace("space1.jpg",400);;<br>
gap&gt; T2:=ReadImageAsTopologicalSpace("space2.jpg",400);;<br>
gap&gt; T3:=ReadImageAsTopologicalSpace("space3.jpg",400);;<br>
gap&gt; T4:=ReadImageAsTopologicalSpace("space4.jpg",400);;<br>
gap&gt; T5:=ReadImageAsTopologicalSpace("space5.jpg",400);;<br>
      <br>
gap&gt; BettiNumbers(ComplementTopologicalSpace(T));<br>
[ 3, 2 ]<br>
gap&gt; BettiNumbers(ComplementTopologicalSpace(T1));<br>
[ 3, 2 ]<br>
gap&gt; BettiNumbers(ComplementTopologicalSpace(T2));<br>
[ 4, 3 ]<br>
gap&gt; BettiNumbers(ComplementTopologicalSpace(T3));<br>
[ 4, 2 ]<br>
gap&gt; BettiNumbers(ComplementTopologicalSpace(T4));<br>
[ 3, 2 ]<br>
gap&gt; BettiNumbers(ComplementTopologicalSpace(T5));<br>
[ 4, 3 ]<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">Further
distinctions can be made between Spaces 1-5 by considering individual
path components. For example, the following additional commands show
that Spaces 1 and 4 are not ambient isotopic.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T1:=ReadImageAsTopologicalSpace("space1.jpg",400);;<br>
gap&gt; BettiNumbers(T1,0);<br>
3<br>
gap&gt; BettiNumbers(PathComponent(T1,1));<br>
[ 1, 3 ]<br>
gap&gt; BettiNumbers(PathComponent(T1,2));<br>
[ 1, 0 ]<br>
gap&gt; BettiNumbers(PathComponent(T1,3));<br>
[ 1, 0 ]<br>
      <br>
gap&gt; T4:=ReadImageAsTopologicalSpace("space4.jpg",400);;<br>
gap&gt; BettiNumbers(PathComponent(T4,1));<br>
[ 1, 2 ]<br>
gap&gt; BettiNumbers(PathComponent(T4,2));<br>
[ 1, 1 ]<br>
gap&gt; BettiNumbers(PathComponent(T4,3));<br>
[ 1, 0 ]<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">The
2-dimensional data cloud<br>
      <div style="text-align: center;"><img alt=""
 src="sample_from_circle.gif" style="width: 406px; height: 311px;"><br>
      <div style="text-align: left;"><br>
seems to be sampled from a connected space with a 1-dimensional hole.
The following computations agree with this observation.<br>
      </div>
      </div>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace("sample_from_circle.gif",400);;<br>
gap&gt;
T:=ComplementTopologicalSpace(T);;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
##These commands should reduce noise.<br>
gap&gt;
T:=ThickenedTopologicalSpace(T);;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
##<br>
gap&gt;
T:=ComplementTopologicalSpace(T);;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ##<br>
gap&gt; for i in [1..50] do<br>
&gt; Print(BettiNumbers(T),"\n");<br>
&gt; T:=ThickenedTopologicalSpace(T);;<br>
&gt; od;<br>
[ 924, 0 ]<br>
[ 602, 29 ]<br>
[ 174, 153 ]<br>
[ 75, 181 ]<br>
[ 30, 107 ]<br>
[ 18, 44 ]<br>
[ 13, 31 ]<br>
[ 9, 18 ]<br>
[ 6, 10 ]<br>
[ 4, 5 ]<br>
[ 4, 3 ]<br>
[ 2, 3 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 2 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 1 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
[ 1, 0 ]<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">One
approach to calculating the homology of a space X is to simplify the
calculation by <br>
finding a smaller homotopy equivalent subspace Y and then to calculate
the homology of Y. The command ContractTopologicalSpace(X) provides a
method for
finding Y.<br>
      <br>
The following commands illustrate this.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace("example.eps",400);;<br>
gap&gt; ViewTopologicalSpace(T); #T is the following space.<br>
      <div style="text-align: center;"><br>
      <img alt="" src="example.jpg" style="width: 50%; height: 50%;"><br>
      <div style="text-align: left;"><br>
gap&gt; ContractTopologicalSpace(T);;<br>
gap&gt; ViewTopologicalSpace(T); #Now T is reduced to the
following homotopy.<br>
      <br>
      </div>
      <div style="text-align: center;"><img alt=""
 src="exampleContracted.jpg" style="width: 50%; height: 50%;"><br>
      </div>
      </div>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">The
following commands find the boundary of the space T. <br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace("example.eps",400);;<br>
gap&gt; B:=BoundaryTopologicalSpace(T);; <br>
gap&gt; ViewTopologicalSpace(B);<br>
      <br>
      <div style="text-align: center;"><img alt=""
 src="exampleBoundary.jpg" style="width: 50%; height: 50%;"><br>
      </div>
      <br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">A
"feature" of a shape could be defined as a singularity in the boundary
of the&nbsp; shape (i.e. a point where the boundary is not
differentiable). According to this definition the following shapes
have&nbsp; respectively 6, 10 and 0 features. &nbsp;&nbsp; <br>
      <br>
      <img alt="" src="shape1.jpg" style="width: 200px; height: 151px;">&nbsp;&nbsp;<img
 alt="" src="shape2.jpg" style="width: 300px; height: 221px;">&nbsp;&nbsp;
      <img alt="" src="shape3.jpg" style="width: 150px; height: 128px;"><br>
      <br>
The number of features of each of these shapes can be computed
using the following commands.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace("shape1.jpg",400);;<br>
gap&gt; S:=BoundarySingularities(T);;<br>
gap&gt; BettiNumbers(S,0);<br>
6<br>
      <br>
gap&gt; T:=ReadImageAsTopologicalSpace("shape2.jpg",400);;<br>
gap&gt; S:=BoundarySingularities(T);;<br>
gap&gt; BettiNumbers(S,0);<br>
10<br>
      <br>
gap&gt; T:=ReadImageAsTopologicalSpace("shape3.jpg",400);;<br>
gap&gt; S:=BoundarySingularities(T);;<br>
gap&gt; BettiNumbers(S,0);<br>
0<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">The
hope is that Topological Data Analysis can be used to analyze images
such as the following&nbsp; Computed Tomography scan.<br>
      <br>
      <div style="text-align: center;"><img alt="" src="ctprostate.jpg"
 style="width: 512px; height: 512px;"><br>
      <br>
      <br>
      <div style="text-align: left;">Increasing the threshold in steps
of 10, and computing the betti numbers each time, produces the
following results.<br>
      </div>
      </div>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
for n in [1..70] do<br>
&gt; T:=ReadImageAsTopologicalSpace("ctprostate.jpg",n*10);;<br>
&gt; Print(BettiNumbers(T),"\n");<br>
&gt; od;<br>
[ 1, 0 ]<br>
[ 1, 2 ]<br>
[ 7, 0 ]<br>
[ 5, 0 ]<br>
[ 10, 0 ]<br>
[ 9, 1 ]<br>
[ 21, 1 ]<br>
[ 122, 0 ]<br>
[ 835, 7 ]<br>
[ 136, 383 ]<br>
[ 110, 169 ]<br>
[ 20, 95 ]<br>
[ 6, 20 ]<br>
[ 5, 2 ]<br>
[ 5, 1 ]<br>
[ 6, 0 ]<br>
[ 5, 0 ]<br>
[ 6, 1 ]<br>
[ 6, 0 ]<br>
[ 5, 1 ]<br>
[ 5, 6 ]<br>
[ 4, 5 ]<br>
[ 4, 11 ]<br>
[ 5, 7 ]<br>
[ 4, 3 ]<br>
[ 5, 3 ]<br>
[ 6, 3 ]<br>
[ 5, 5 ]<br>
[ 2, 8 ]<br>
[ 3, 10 ]<br>
[ 4, 23 ]<br>
[ 5, 60 ]<br>
[ 5, 102 ]<br>
[ 18, 117 ]<br>
[ 193, 129 ]<br>
[ 419, 115 ]<br>
[ 111, 342 ]<br>
[ 95, 207 ]<br>
[ 114, 201 ]<br>
[ 270, 208 ]<br>
[ 169, 306 ]<br>
[ 35, 558 ]<br>
[ 30, 134 ]<br>
[ 38, 82 ]<br>
[ 23, 44 ]<br>
[ 11, 32 ]<br>
[ 16, 22 ]<br>
[ 10, 20 ]<br>
[ 6, 16 ]<br>
[ 7, 13 ]<br>
[ 5, 17 ]<br>
[ 4, 14 ]<br>
[ 3, 23 ]<br>
[ 2, 25 ]<br>
[ 2, 21 ]<br>
[ 2, 17 ]<br>
[ 4, 16 ]<br>
[ 1, 18 ]<br>
[ 1, 20 ]<br>
[ 1, 26 ]<br>
[ 1, 25 ]<br>
[ 1, 26 ]<br>
[ 1, 23 ]<br>
[ 1, 21 ]<br>
[ 1, 22 ]<br>
[ 1, 25 ]<br>
[ 1, 25 ]<br>
[ 1, 23 ]<br>
[ 1, 23 ]<br>
[ 1, 26 ]<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 255);">The
above suggests that the CT image is interesting in the threshold range
[340,390]. We can view it using this threshold.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 204);">gap&gt;
T:=ReadImageAsTopologicalSpace(A,[340,390]);;<br>
gap&gt; ViewTopologicalSpace(BoundaryTopologicalSpace(T));<br>
      <br>
      <div style="text-align: center;"><img alt="" src="ctboundary.jpg"
 style="width: 512px; height: 512px;"><br>
      </div>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      <table
 style="margin-left: auto; margin-right: auto; width: 100%; text-align: left;"
 border="0" cellpadding="2" cellspacing="2">
        <tbody>
          <tr>
            <td style="vertical-align: top;"><a
 style="color: rgb(0, 0, 102);" href="aboutLie.html">Previous
Page</a><br>
            </td>
            <td style="text-align: center; vertical-align: top;"><a
 href="aboutContents.html"><span style="color: rgb(0, 0, 102);">Contents</span></a><br>
            </td>
            <td style="text-align: right; vertical-align: top;"><a
 href="aboutParallel.html"><span style="color: rgb(0, 0, 102);">Next
page</span><br>
            </a> </td>
          </tr>
        </tbody>
      </table>
      <a href="aboutTopology.html"><br>
      </a> </td>
    </tr>
  </tbody>
</table>
<br>
<br>
</body>
</html>
